(()=>{var Ol=Object.create;var Gr=Object.defineProperty;var Nl=Object.getOwnPropertyDescriptor;var Dl=Object.getOwnPropertyNames;var Cl=Object.getPrototypeOf,Rl=Object.prototype.hasOwnProperty;var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Pl=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Dl(e))!Rl.call(t,i)&&i!==n&&Gr(t,i,{get:()=>e[i],enumerable:!(r=Nl(e,i))||r.enumerable});return t};var at=(t,e,n)=>(n=t!=null?Ol(Cl(t)):{},Pl(e||!t||!t.__esModule?Gr(n,"default",{value:t,enumerable:!0}):n,t));var Un=E((Im,Yr)=>{"use strict";var Br=Object.prototype.toString;Yr.exports=function(e){var n=Br.call(e),r=n==="[object Arguments]";return r||(r=n!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Br.call(e.callee)==="[object Function]"),r}});var Qr=E((Am,Xr)=>{"use strict";var zr;Object.keys||(Zt=Object.prototype.hasOwnProperty,Gn=Object.prototype.toString,Kr=Un(),Bn=Object.prototype.propertyIsEnumerable,$r=!Bn.call({toString:null},"toString"),Hr=Bn.call(function(){},"prototype"),Jt=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Ne=function(t){var e=t.constructor;return e&&e.prototype===t},Vr={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},jr=function(){if(typeof window>"u")return!1;for(var t in window)try{if(!Vr["$"+t]&&Zt.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{Ne(window[t])}catch{return!0}}catch{return!0}return!1}(),qr=function(t){if(typeof window>"u"||!jr)return Ne(t);try{return Ne(t)}catch{return!1}},zr=function(e){var n=e!==null&&typeof e=="object",r=Gn.call(e)==="[object Function]",i=Kr(e),o=n&&Gn.call(e)==="[object String]",s=[];if(!n&&!r&&!i)throw new TypeError("Object.keys called on a non-object");var a=Hr&&r;if(o&&e.length>0&&!Zt.call(e,0))for(var l=0;l<e.length;++l)s.push(String(l));if(i&&e.length>0)for(var u=0;u<e.length;++u)s.push(String(u));else for(var d in e)!(a&&d==="prototype")&&Zt.call(e,d)&&s.push(String(d));if($r)for(var h=qr(e),m=0;m<Jt.length;++m)!(h&&Jt[m]==="constructor")&&Zt.call(e,Jt[m])&&s.push(Jt[m]);return s});var Zt,Gn,Kr,Bn,$r,Hr,Jt,Ne,Vr,jr,qr;Xr.exports=zr});var ei=E((Om,ti)=>{"use strict";var Fl=Array.prototype.slice,Ml=Un(),Zr=Object.keys,De=Zr?function(e){return Zr(e)}:Qr(),Jr=Object.keys;De.shim=function(){if(Object.keys){var e=function(){var n=Object.keys(arguments);return n&&n.length===arguments.length}(1,2);e||(Object.keys=function(r){return Ml(r)?Jr(Fl.call(r)):Jr(r)})}else Object.keys=De;return Object.keys||De};ti.exports=De});var te=E((Nm,ni)=>{"use strict";var Ce=Object.defineProperty||!1;if(Ce)try{Ce({},"a",{value:1})}catch{Ce=!1}ni.exports=Ce});var Yn=E((Dm,ri)=>{"use strict";ri.exports=SyntaxError});var xt=E((Cm,ii)=>{"use strict";ii.exports=TypeError});var si=E((Rm,oi)=>{"use strict";oi.exports=Object.getOwnPropertyDescriptor});var ee=E((Pm,ai)=>{"use strict";var Re=si();if(Re)try{Re([],"length")}catch{Re=null}ai.exports=Re});var Kn=E((Fm,fi)=>{"use strict";var li=te(),Ll=Yn(),It=xt(),ci=ee();fi.exports=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new It("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new It("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new It("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new It("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new It("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new It("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!ci&&ci(e,n);if(li)li(e,n,{configurable:s===null&&l?l.configurable:!s,enumerable:i===null&&l?l.enumerable:!i,value:r,writable:o===null&&l?l.writable:!o});else if(a||!i&&!o&&!s)e[n]=r;else throw new Ll("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var Hn=E((Mm,pi)=>{"use strict";var $n=te(),ui=function(){return!!$n};ui.hasArrayLengthDefineBug=function(){if(!$n)return null;try{return $n([],"length",{value:1}).length!==1}catch{return!0}};pi.exports=ui});var Vn=E((Lm,gi)=>{"use strict";var kl=ei(),Wl=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Ul=Object.prototype.toString,Gl=Array.prototype.concat,di=Kn(),Bl=function(t){return typeof t=="function"&&Ul.call(t)==="[object Function]"},mi=Hn()(),Yl=function(t,e,n,r){if(e in t){if(r===!0){if(t[e]===n)return}else if(!Bl(r)||!r())return}mi?di(t,e,n,!0):di(t,e,n)},hi=function(t,e){var n=arguments.length>2?arguments[2]:{},r=kl(e);Wl&&(r=Gl.call(r,Object.getOwnPropertySymbols(e)));for(var i=0;i<r.length;i+=1)Yl(t,r[i],e[r[i]],n[r[i]])};hi.supportsDescriptors=!!mi;gi.exports=hi});var _i=E((km,yi)=>{"use strict";yi.exports=Object});var wi=E((Wm,bi)=>{"use strict";bi.exports=Error});var Ei=E((Um,Si)=>{"use strict";Si.exports=EvalError});var Ti=E((Gm,vi)=>{"use strict";vi.exports=RangeError});var Ii=E((Bm,xi)=>{"use strict";xi.exports=ReferenceError});var Oi=E((Ym,Ai)=>{"use strict";Ai.exports=URIError});var Di=E((Km,Ni)=>{"use strict";Ni.exports=Math.abs});var Ri=E(($m,Ci)=>{"use strict";Ci.exports=Math.floor});var Fi=E((Hm,Pi)=>{"use strict";Pi.exports=Math.max});var Li=E((Vm,Mi)=>{"use strict";Mi.exports=Math.min});var Wi=E((jm,ki)=>{"use strict";ki.exports=Math.pow});var Gi=E((qm,Ui)=>{"use strict";Ui.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,n);if(a.value!==i||a.enumerable!==!0)return!1}return!0}});var Ki=E((zm,Yi)=>{"use strict";var Bi=typeof Symbol<"u"&&Symbol,Kl=Gi();Yi.exports=function(){return typeof Bi!="function"||typeof Symbol!="function"||typeof Bi("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Kl()}});var Vi=E((Xm,Hi)=>{"use strict";var $l="Function.prototype.bind called on incompatible ",Hl=Object.prototype.toString,Vl=Math.max,jl="[object Function]",$i=function(e,n){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<n.length;o+=1)r[o+e.length]=n[o];return r},ql=function(e,n){for(var r=[],i=n||0,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},zl=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};Hi.exports=function(e){var n=this;if(typeof n!="function"||Hl.apply(n)!==jl)throw new TypeError($l+n);for(var r=ql(arguments,1),i,o=function(){if(this instanceof i){var d=n.apply(this,$i(r,arguments));return Object(d)===d?d:this}return n.apply(e,$i(r,arguments))},s=Vl(0,n.length-r.length),a=[],l=0;l<s;l++)a[l]="$"+l;if(i=Function("binder","return function ("+zl(a,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var u=function(){};u.prototype=n.prototype,i.prototype=new u,u.prototype=null}return i}});var At=E((Qm,ji)=>{"use strict";var Xl=Vi();ji.exports=Function.prototype.bind||Xl});var Pe=E((Zm,qi)=>{"use strict";qi.exports=Function.prototype.call});var Fe=E((Jm,zi)=>{"use strict";zi.exports=Function.prototype.apply});var Qi=E((th,Xi)=>{"use strict";Xi.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var jn=E((eh,Zi)=>{"use strict";var Ql=At(),Zl=Fe(),Jl=Pe(),tc=Qi();Zi.exports=tc||Ql.call(Jl,Zl)});var qn=E((nh,Ji)=>{"use strict";var ec=At(),nc=xt(),rc=Pe(),ic=jn();Ji.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new nc("a function is required");return ic(ec,rc,e)}});var io=E((rh,ro)=>{"use strict";var oc=qn(),to=ee(),sc=[].__proto__===Array.prototype,zn=sc&&to&&to(Object.prototype,"__proto__"),no=Object,eo=no.getPrototypeOf;ro.exports=zn&&typeof zn.get=="function"?oc([zn.get]):typeof eo=="function"?function(e){return eo(e==null?e:no(e))}:!1});var so=E((ih,oo)=>{"use strict";var ac=Function.prototype.call,lc=Object.prototype.hasOwnProperty,cc=At();oo.exports=cc.call(ac,lc)});var Zn=E((oh,mo)=>{"use strict";var x,fo=_i(),fc=wi(),uc=Ei(),pc=Ti(),dc=Ii(),Ct=Yn(),Dt=xt(),mc=Oi(),hc=Di(),gc=Ri(),yc=Fi(),_c=Li(),bc=Wi(),uo=Function,Xn=function(t){try{return uo('"use strict"; return ('+t+").constructor;")()}catch{}},ne=ee(),wc=te(),Qn=function(){throw new Dt},Sc=ne?function(){try{return arguments.callee,Qn}catch{try{return ne(arguments,"callee").get}catch{return Qn}}}():Qn,Ot=Ki()(),Ec=io(),P=typeof Reflect=="function"&&Reflect.getPrototypeOf||fo.getPrototypeOf||Ec,po=Fe(),re=Pe(),Nt={},vc=typeof Uint8Array>"u"||!P?x:P(Uint8Array),lt={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?x:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?x:ArrayBuffer,"%ArrayIteratorPrototype%":Ot&&P?P([][Symbol.iterator]()):x,"%AsyncFromSyncIteratorPrototype%":x,"%AsyncFunction%":Nt,"%AsyncGenerator%":Nt,"%AsyncGeneratorFunction%":Nt,"%AsyncIteratorPrototype%":Nt,"%Atomics%":typeof Atomics>"u"?x:Atomics,"%BigInt%":typeof BigInt>"u"?x:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?x:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?x:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?x:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":fc,"%eval%":eval,"%EvalError%":uc,"%Float32Array%":typeof Float32Array>"u"?x:Float32Array,"%Float64Array%":typeof Float64Array>"u"?x:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?x:FinalizationRegistry,"%Function%":uo,"%GeneratorFunction%":Nt,"%Int8Array%":typeof Int8Array>"u"?x:Int8Array,"%Int16Array%":typeof Int16Array>"u"?x:Int16Array,"%Int32Array%":typeof Int32Array>"u"?x:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ot&&P?P(P([][Symbol.iterator]())):x,"%JSON%":typeof JSON=="object"?JSON:x,"%Map%":typeof Map>"u"?x:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ot||!P?x:P(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":fo,"%Object.getOwnPropertyDescriptor%":ne,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?x:Promise,"%Proxy%":typeof Proxy>"u"?x:Proxy,"%RangeError%":pc,"%ReferenceError%":dc,"%Reflect%":typeof Reflect>"u"?x:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?x:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ot||!P?x:P(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?x:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ot&&P?P(""[Symbol.iterator]()):x,"%Symbol%":Ot?Symbol:x,"%SyntaxError%":Ct,"%ThrowTypeError%":Sc,"%TypedArray%":vc,"%TypeError%":Dt,"%Uint8Array%":typeof Uint8Array>"u"?x:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?x:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?x:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?x:Uint32Array,"%URIError%":mc,"%WeakMap%":typeof WeakMap>"u"?x:WeakMap,"%WeakRef%":typeof WeakRef>"u"?x:WeakRef,"%WeakSet%":typeof WeakSet>"u"?x:WeakSet,"%Function.prototype.call%":re,"%Function.prototype.apply%":po,"%Object.defineProperty%":wc,"%Math.abs%":hc,"%Math.floor%":gc,"%Math.max%":yc,"%Math.min%":_c,"%Math.pow%":bc};if(P)try{null.error}catch(t){ao=P(P(t)),lt["%Error.prototype%"]=ao}var ao,Tc=function t(e){var n;if(e==="%AsyncFunction%")n=Xn("async function () {}");else if(e==="%GeneratorFunction%")n=Xn("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Xn("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&P&&(n=P(i.prototype))}return lt[e]=n,n},lo={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ie=At(),Me=so(),xc=ie.call(re,Array.prototype.concat),Ic=ie.call(po,Array.prototype.splice),co=ie.call(re,String.prototype.replace),Le=ie.call(re,String.prototype.slice),Ac=ie.call(re,RegExp.prototype.exec),Oc=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Nc=/\\(\\)?/g,Dc=function(e){var n=Le(e,0,1),r=Le(e,-1);if(n==="%"&&r!=="%")throw new Ct("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Ct("invalid intrinsic syntax, expected opening `%`");var i=[];return co(e,Oc,function(o,s,a,l){i[i.length]=a?co(l,Nc,"$1"):s||o}),i},Cc=function(e,n){var r=e,i;if(Me(lo,r)&&(i=lo[r],r="%"+i[0]+"%"),Me(lt,r)){var o=lt[r];if(o===Nt&&(o=Tc(r)),typeof o>"u"&&!n)throw new Dt("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Ct("intrinsic "+e+" does not exist!")};mo.exports=function(e,n){if(typeof e!="string"||e.length===0)throw new Dt("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Dt('"allowMissing" argument must be a boolean');if(Ac(/^%?[^%]*%?$/,e)===null)throw new Ct("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Dc(e),i=r.length>0?r[0]:"",o=Cc("%"+i+"%",n),s=o.name,a=o.value,l=!1,u=o.alias;u&&(i=u[0],Ic(r,xc([0,1],u)));for(var d=1,h=!0;d<r.length;d+=1){var m=r[d],g=Le(m,0,1),_=Le(m,-1);if((g==='"'||g==="'"||g==="`"||_==='"'||_==="'"||_==="`")&&g!==_)throw new Ct("property names with quotes must have matching quotes");if((m==="constructor"||!h)&&(l=!0),i+="."+m,s="%"+i+"%",Me(lt,s))a=lt[s];else if(a!=null){if(!(m in a)){if(!n)throw new Dt("base intrinsic for "+e+" exists, but the property is not available.");return}if(ne&&d+1>=r.length){var S=ne(a,m);h=!!S,h&&"get"in S&&!("originalValue"in S.get)?a=S.get:a=a[m]}else h=Me(a,m),a=a[m];h&&!l&&(lt[s]=a)}}return a}});var bo=E((sh,_o)=>{"use strict";var Rc=Zn(),ho=Kn(),Pc=Hn()(),go=ee(),yo=xt(),Fc=Rc("%Math.floor%");_o.exports=function(e,n){if(typeof e!="function")throw new yo("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||Fc(n)!==n)throw new yo("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&go){var s=go(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(Pc?ho(e,"length",n,!0,!0):ho(e,"length",n)),e}});var So=E((ah,wo)=>{"use strict";var Mc=At(),Lc=Fe(),kc=jn();wo.exports=function(){return kc(Mc,Lc,arguments)}});var Jn=E((lh,ke)=>{"use strict";var Wc=bo(),Eo=te(),Uc=qn(),vo=So();ke.exports=function(e){var n=Uc(arguments),r=e.length-(arguments.length-1);return Wc(n,1+(r>0?r:0),!0)};Eo?Eo(ke.exports,"apply",{value:vo}):ke.exports.apply=vo});var xo=E((ch,To)=>{"use strict";var Gc=xt();To.exports=function(e){if(e==null)throw new Gc(arguments.length>0&&arguments[1]||"Cannot call method on "+e);return e}});var No=E((fh,Oo)=>{"use strict";var Io=Zn(),Ao=Jn(),Bc=Ao(Io("String.prototype.indexOf"));Oo.exports=function(e,n){var r=Io(e,!!n);return typeof r=="function"&&Bc(e,".prototype.")>-1?Ao(r):r}});var tr=E((uh,Co)=>{"use strict";var Yc=xo(),Do=No(),Kc=Do("Object.prototype.propertyIsEnumerable"),$c=Do("Array.prototype.push");Co.exports=function(e){var n=Yc(e),r=[];for(var i in n)Kc(n,i)&&$c(r,[i,n[i]]);return r}});var er=E((ph,Ro)=>{"use strict";var Hc=tr();Ro.exports=function(){return typeof Object.entries=="function"?Object.entries:Hc}});var Fo=E((dh,Po)=>{"use strict";var Vc=er(),jc=Vn();Po.exports=function(){var e=Vc();return jc(Object,{entries:e},{entries:function(){return Object.entries!==e}}),e}});var Wo=E((mh,ko)=>{"use strict";var qc=Vn(),zc=Jn(),Xc=tr(),Mo=er(),Qc=Fo(),Lo=zc(Mo(),Object);qc(Lo,{getPolyfill:Mo,implementation:Xc,shim:Qc});ko.exports=Lo});var $s=E((B_,Ks)=>{"use strict";var au=function(e){return lu(e)&&!cu(e)};function lu(t){return!!t&&typeof t=="object"}function cu(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||pu(t)}var fu=typeof Symbol=="function"&&Symbol.for,uu=fu?Symbol.for("react.element"):60103;function pu(t){return t.$$typeof===uu}function du(t){return Array.isArray(t)?[]:{}}function ue(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Gt(du(t),t,e):t}function mu(t,e,n){return t.concat(e).map(function(r){return ue(r,n)})}function hu(t,e){if(!e.customMerge)return Gt;var n=e.customMerge(t);return typeof n=="function"?n:Gt}function gu(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function Bs(t){return Object.keys(t).concat(gu(t))}function Ys(t,e){try{return e in t}catch{return!1}}function yu(t,e){return Ys(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function _u(t,e,n){var r={};return n.isMergeableObject(t)&&Bs(t).forEach(function(i){r[i]=ue(t[i],n)}),Bs(e).forEach(function(i){yu(t,i)||(Ys(t,i)&&n.isMergeableObject(e[i])?r[i]=hu(i,n)(t[i],e[i],n):r[i]=ue(e[i],n))}),r}function Gt(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||mu,n.isMergeableObject=n.isMergeableObject||au,n.cloneUnlessOtherwiseSpecified=ue;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):_u(t,e,n):ue(e,n)}Gt.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Gt(r,i,n)},{})};var bu=Gt;Ks.exports=bu});var Vs=E((Y_,Hs)=>{"use strict";Hs.exports=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}});var Zs=E((tb,Qs)=>{"use strict";function Tu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}Qs.exports=function(t,e,n,r){e=e||"&",n=n||"=";var i={};if(typeof t!="string"||t.length===0)return i;var o=/\+/g;t=t.split(e);var s=1e3;r&&typeof r.maxKeys=="number"&&(s=r.maxKeys);var a=t.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var u=t[l].replace(o,"%20"),d=u.indexOf(n),h,m,g,_;d>=0?(h=u.substr(0,d),m=u.substr(d+1)):(h=u,m=""),g=decodeURIComponent(h),_=decodeURIComponent(m),Tu(i,g)?Array.isArray(i[g])?i[g].push(_):i[g]=[i[g],_]:i[g]=_}return i}});var ta=E((eb,Js)=>{"use strict";var pe=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};Js.exports=function(t,e,n,r){return e=e||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var o=encodeURIComponent(pe(i))+n;return Array.isArray(t[i])?t[i].map(function(s){return o+encodeURIComponent(pe(s))}).join(e):o+encodeURIComponent(pe(t[i]))}).filter(Boolean).join(e):r?encodeURIComponent(pe(r))+n+encodeURIComponent(pe(t)):""}});var ea=E(de=>{"use strict";de.decode=de.parse=Zs();de.encode=de.stringify=ta()});var la=E((gb,aa)=>{var sa="Expected a function",ia=NaN,Du="[object Symbol]",Cu=/^\s+|\s+$/g,Ru=/^[-+]0x[0-9a-f]+$/i,Pu=/^0b[01]+$/i,Fu=/^0o[0-7]+$/i,Mu=parseInt,Lu=typeof global=="object"&&global&&global.Object===Object&&global,ku=typeof self=="object"&&self&&self.Object===Object&&self,Wu=Lu||ku||Function("return this")(),Uu=Object.prototype,Gu=Uu.toString,Bu=Math.max,Yu=Math.min,gr=function(){return Wu.Date.now()};function Ku(t,e,n){var r,i,o,s,a,l,u=0,d=!1,h=!1,m=!0;if(typeof t!="function")throw new TypeError(sa);e=oa(e)||0,tn(n)&&(d=!!n.leading,h="maxWait"in n,o=h?Bu(oa(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m);function g(y){var b=r,N=i;return r=i=void 0,u=y,s=t.apply(N,b),s}function _(y){return u=y,a=setTimeout(T,e),d?g(y):s}function S(y){var b=y-l,N=y-u,D=e-b;return h?Yu(D,o-N):D}function v(y){var b=y-l,N=y-u;return l===void 0||b>=e||b<0||h&&N>=o}function T(){var y=gr();if(v(y))return A(y);a=setTimeout(T,S(y))}function A(y){return a=void 0,m&&r?g(y):(r=i=void 0,s)}function c(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function f(){return a===void 0?s:A(gr())}function p(){var y=gr(),b=v(y);if(r=arguments,i=this,l=y,b){if(a===void 0)return _(l);if(h)return a=setTimeout(T,e),g(l)}return a===void 0&&(a=setTimeout(T,e)),s}return p.cancel=c,p.flush=f,p}function $u(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(sa);return tn(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ku(t,e,{leading:r,maxWait:e,trailing:i})}function tn(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Hu(t){return!!t&&typeof t=="object"}function Vu(t){return typeof t=="symbol"||Hu(t)&&Gu.call(t)==Du}function oa(t){if(typeof t=="number")return t;if(Vu(t))return ia;if(tn(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=tn(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Cu,"");var n=Pu.test(t);return n||Fu.test(t)?Mu(t.slice(2),n?2:8):Ru.test(t)?ia:+t}aa.exports=$u});var sl=E((IS,ol)=>{var bp="Expected a function",Qa="__lodash_hash_undefined__",Za=1/0,wp="[object Function]",Sp="[object GeneratorFunction]",Ep="[object Symbol]",vp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tp=/^\w*$/,xp=/^\./,Ip=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ap=/[\\^$.*+?()[\]{}|]/g,Op=/\\(\\)?/g,Np=/^\[object .+?Constructor\]$/,Dp=typeof global=="object"&&global&&global.Object===Object&&global,Cp=typeof self=="object"&&self&&self.Object===Object&&self,Ar=Dp||Cp||Function("return this")();function Rp(t,e){return t?.[e]}function Pp(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var Fp=Array.prototype,Mp=Function.prototype,Ja=Object.prototype,Ir=Ar["__core-js_shared__"],ja=function(){var t=/[^.]+$/.exec(Ir&&Ir.keys&&Ir.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),tl=Mp.toString,Or=Ja.hasOwnProperty,el=Ja.toString,Lp=RegExp("^"+tl.call(Or).replace(Ap,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qa=Ar.Symbol,kp=Fp.splice,Wp=nl(Ar,"Map"),Ie=nl(Object,"create"),za=qa?qa.prototype:void 0,Xa=za?za.toString:void 0;function wt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Up(){this.__data__=Ie?Ie(null):{}}function Gp(t){return this.has(t)&&delete this.__data__[t]}function Bp(t){var e=this.__data__;if(Ie){var n=e[t];return n===Qa?void 0:n}return Or.call(e,t)?e[t]:void 0}function Yp(t){var e=this.__data__;return Ie?e[t]!==void 0:Or.call(e,t)}function Kp(t,e){var n=this.__data__;return n[t]=Ie&&e===void 0?Qa:e,this}wt.prototype.clear=Up;wt.prototype.delete=Gp;wt.prototype.get=Bp;wt.prototype.has=Yp;wt.prototype.set=Kp;function qt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $p(){this.__data__=[]}function Hp(t){var e=this.__data__,n=In(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():kp.call(e,n,1),!0}function Vp(t){var e=this.__data__,n=In(e,t);return n<0?void 0:e[n][1]}function jp(t){return In(this.__data__,t)>-1}function qp(t,e){var n=this.__data__,r=In(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}qt.prototype.clear=$p;qt.prototype.delete=Hp;qt.prototype.get=Vp;qt.prototype.has=jp;qt.prototype.set=qp;function St(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function zp(){this.__data__={hash:new wt,map:new(Wp||qt),string:new wt}}function Xp(t){return An(this,t).delete(t)}function Qp(t){return An(this,t).get(t)}function Zp(t){return An(this,t).has(t)}function Jp(t,e){return An(this,t).set(t,e),this}St.prototype.clear=zp;St.prototype.delete=Xp;St.prototype.get=Qp;St.prototype.has=Zp;St.prototype.set=Jp;function In(t,e){for(var n=t.length;n--;)if(fd(t[n][0],e))return n;return-1}function td(t,e){e=id(e,t)?[e]:rd(e);for(var n=0,r=e.length;t!=null&&n<r;)t=t[ld(e[n++])];return n&&n==r?t:void 0}function ed(t){if(!il(t)||sd(t))return!1;var e=ud(t)||Pp(t)?Lp:Np;return e.test(cd(t))}function nd(t){if(typeof t=="string")return t;if(Dr(t))return Xa?Xa.call(t):"";var e=t+"";return e=="0"&&1/t==-Za?"-0":e}function rd(t){return rl(t)?t:ad(t)}function An(t,e){var n=t.__data__;return od(e)?n[typeof e=="string"?"string":"hash"]:n.map}function nl(t,e){var n=Rp(t,e);return ed(n)?n:void 0}function id(t,e){if(rl(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Dr(t)?!0:Tp.test(t)||!vp.test(t)||e!=null&&t in Object(e)}function od(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function sd(t){return!!ja&&ja in t}var ad=Nr(function(t){t=dd(t);var e=[];return xp.test(t)&&e.push(""),t.replace(Ip,function(n,r,i,o){e.push(i?o.replace(Op,"$1"):r||n)}),e});function ld(t){if(typeof t=="string"||Dr(t))return t;var e=t+"";return e=="0"&&1/t==-Za?"-0":e}function cd(t){if(t!=null){try{return tl.call(t)}catch{}try{return t+""}catch{}}return""}function Nr(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(bp);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(Nr.Cache||St),n}Nr.Cache=St;function fd(t,e){return t===e||t!==t&&e!==e}var rl=Array.isArray;function ud(t){var e=il(t)?el.call(t):"";return e==wp||e==Sp}function il(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function pd(t){return!!t&&typeof t=="object"}function Dr(t){return typeof t=="symbol"||pd(t)&&el.call(t)==Ep}function dd(t){return t==null?"":nd(t)}function md(t,e,n){var r=t==null?void 0:td(t,e);return r===void 0?n:r}ol.exports=md});var wl=E((AS,bl)=>{var hd="Expected a function",ul="__lodash_hash_undefined__",pl=1/0,gd=9007199254740991,yd="[object Function]",_d="[object GeneratorFunction]",bd="[object Symbol]",wd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sd=/^\w*$/,Ed=/^\./,vd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Td=/[\\^$.*+?()[\]{}|]/g,xd=/\\(\\)?/g,Id=/^\[object .+?Constructor\]$/,Ad=/^(?:0|[1-9]\d*)$/,Od=typeof global=="object"&&global&&global.Object===Object&&global,Nd=typeof self=="object"&&self&&self.Object===Object&&self,Rr=Od||Nd||Function("return this")();function Dd(t,e){return t?.[e]}function Cd(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var Rd=Array.prototype,Pd=Function.prototype,dl=Object.prototype,Cr=Rr["__core-js_shared__"],al=function(){var t=/[^.]+$/.exec(Cr&&Cr.keys&&Cr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ml=Pd.toString,Nn=dl.hasOwnProperty,hl=dl.toString,Fd=RegExp("^"+ml.call(Nn).replace(Td,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ll=Rr.Symbol,Md=Rd.splice,Ld=gl(Rr,"Map"),Ae=gl(Object,"create"),cl=ll?ll.prototype:void 0,fl=cl?cl.toString:void 0;function Et(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kd(){this.__data__=Ae?Ae(null):{}}function Wd(t){return this.has(t)&&delete this.__data__[t]}function Ud(t){var e=this.__data__;if(Ae){var n=e[t];return n===ul?void 0:n}return Nn.call(e,t)?e[t]:void 0}function Gd(t){var e=this.__data__;return Ae?e[t]!==void 0:Nn.call(e,t)}function Bd(t,e){var n=this.__data__;return n[t]=Ae&&e===void 0?ul:e,this}Et.prototype.clear=kd;Et.prototype.delete=Wd;Et.prototype.get=Ud;Et.prototype.has=Gd;Et.prototype.set=Bd;function zt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Yd(){this.__data__=[]}function Kd(t){var e=this.__data__,n=Dn(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Md.call(e,n,1),!0}function $d(t){var e=this.__data__,n=Dn(e,t);return n<0?void 0:e[n][1]}function Hd(t){return Dn(this.__data__,t)>-1}function Vd(t,e){var n=this.__data__,r=Dn(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}zt.prototype.clear=Yd;zt.prototype.delete=Kd;zt.prototype.get=$d;zt.prototype.has=Hd;zt.prototype.set=Vd;function vt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jd(){this.__data__={hash:new Et,map:new(Ld||zt),string:new Et}}function qd(t){return Cn(this,t).delete(t)}function zd(t){return Cn(this,t).get(t)}function Xd(t){return Cn(this,t).has(t)}function Qd(t,e){return Cn(this,t).set(t,e),this}vt.prototype.clear=jd;vt.prototype.delete=qd;vt.prototype.get=zd;vt.prototype.has=Xd;vt.prototype.set=Qd;function Zd(t,e,n){var r=t[e];(!(Nn.call(t,e)&&yl(r,n))||n===void 0&&!(e in t))&&(t[e]=n)}function Dn(t,e){for(var n=t.length;n--;)if(yl(t[n][0],e))return n;return-1}function Jd(t){if(!On(t)||sm(t))return!1;var e=fm(t)||Cd(t)?Fd:Id;return e.test(cm(t))}function tm(t,e,n,r){if(!On(t))return t;e=im(e,t)?[e]:nm(e);for(var i=-1,o=e.length,s=o-1,a=t;a!=null&&++i<o;){var l=lm(e[i]),u=n;if(i!=s){var d=a[l];u=r?r(d,l,a):void 0,u===void 0&&(u=On(d)?d:rm(e[i+1])?[]:{})}Zd(a,l,u),a=a[l]}return t}function em(t){if(typeof t=="string")return t;if(Fr(t))return fl?fl.call(t):"";var e=t+"";return e=="0"&&1/t==-pl?"-0":e}function nm(t){return _l(t)?t:am(t)}function Cn(t,e){var n=t.__data__;return om(e)?n[typeof e=="string"?"string":"hash"]:n.map}function gl(t,e){var n=Dd(t,e);return Jd(n)?n:void 0}function rm(t,e){return e=e??gd,!!e&&(typeof t=="number"||Ad.test(t))&&t>-1&&t%1==0&&t<e}function im(t,e){if(_l(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Fr(t)?!0:Sd.test(t)||!wd.test(t)||e!=null&&t in Object(e)}function om(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function sm(t){return!!al&&al in t}var am=Pr(function(t){t=pm(t);var e=[];return Ed.test(t)&&e.push(""),t.replace(vd,function(n,r,i,o){e.push(i?o.replace(xd,"$1"):r||n)}),e});function lm(t){if(typeof t=="string"||Fr(t))return t;var e=t+"";return e=="0"&&1/t==-pl?"-0":e}function cm(t){if(t!=null){try{return ml.call(t)}catch{}try{return t+""}catch{}}return""}function Pr(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(hd);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new(Pr.Cache||vt),n}Pr.Cache=vt;function yl(t,e){return t===e||t!==t&&e!==e}var _l=Array.isArray;function fm(t){var e=On(t)?hl.call(t):"";return e==yd||e==_d}function On(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function um(t){return!!t&&typeof t=="object"}function Fr(t){return typeof t=="symbol"||um(t)&&hl.call(t)==bd}function pm(t){return t==null?"":em(t)}function dm(t,e,n,r){return r=typeof r=="function"?r:void 0,t==null?t:tm(t,e,n,r)}bl.exports=dm});(function(){"use strict";if(typeof window!="object")return;if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype){"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});return}function t(c){try{return c.defaultView&&c.defaultView.frameElement||null}catch{return null}}var e=function(c){for(var f=c,p=t(f);p;)f=p.ownerDocument,p=t(f);return f}(window.document),n=[],r=null,i=null;function o(c){this.time=c.time,this.target=c.target,this.rootBounds=_(c.rootBounds),this.boundingClientRect=_(c.boundingClientRect),this.intersectionRect=_(c.intersectionRect||g()),this.isIntersecting=!!c.intersectionRect;var f=this.boundingClientRect,p=f.width*f.height,y=this.intersectionRect,b=y.width*y.height;p?this.intersectionRatio=Number((b/p).toFixed(4)):this.intersectionRatio=this.isIntersecting?1:0}function s(c,f){var p=f||{};if(typeof c!="function")throw new Error("callback must be a function");if(p.root&&p.root.nodeType!=1&&p.root.nodeType!=9)throw new Error("root must be a Document or Element");this._checkForIntersections=l(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=c,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(p.rootMargin),this.thresholds=this._initThresholds(p.threshold),this.root=p.root||null,this.rootMargin=this._rootMarginValues.map(function(y){return y.value+y.unit}).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}s.prototype.THROTTLE_TIMEOUT=100,s.prototype.POLL_INTERVAL=null,s.prototype.USE_MUTATION_OBSERVER=!0,s._setupCrossOriginUpdater=function(){return r||(r=function(c,f){!c||!f?i=g():i=S(c,f),n.forEach(function(p){p._checkForIntersections()})}),r},s._resetCrossOriginUpdater=function(){r=null,i=null},s.prototype.observe=function(c){var f=this._observationTargets.some(function(p){return p.element==c});if(!f){if(!(c&&c.nodeType==1))throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:c,entry:null}),this._monitorIntersections(c.ownerDocument),this._checkForIntersections()}},s.prototype.unobserve=function(c){this._observationTargets=this._observationTargets.filter(function(f){return f.element!=c}),this._unmonitorIntersections(c.ownerDocument),this._observationTargets.length==0&&this._unregisterInstance()},s.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},s.prototype.takeRecords=function(){var c=this._queuedEntries.slice();return this._queuedEntries=[],c},s.prototype._initThresholds=function(c){var f=c||[0];return Array.isArray(f)||(f=[f]),f.sort().filter(function(p,y,b){if(typeof p!="number"||isNaN(p)||p<0||p>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return p!==b[y-1]})},s.prototype._parseRootMargin=function(c){var f=c||"0px",p=f.split(/\s+/).map(function(y){var b=/^(-?\d*\.?\d+)(px|%)$/.exec(y);if(!b)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(b[1]),unit:b[2]}});return p[1]=p[1]||p[0],p[2]=p[2]||p[0],p[3]=p[3]||p[1],p},s.prototype._monitorIntersections=function(c){var f=c.defaultView;if(f&&this._monitoringDocuments.indexOf(c)==-1){var p=this._checkForIntersections,y=null,b=null;this.POLL_INTERVAL?y=f.setInterval(p,this.POLL_INTERVAL):(u(f,"resize",p,!0),u(c,"scroll",p,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in f&&(b=new f.MutationObserver(p),b.observe(c,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(c),this._monitoringUnsubscribes.push(function(){var C=c.defaultView;C&&(y&&C.clearInterval(y),d(C,"resize",p,!0)),d(c,"scroll",p,!0),b&&b.disconnect()});var N=this.root&&(this.root.ownerDocument||this.root)||e;if(c!=N){var D=t(c);D&&this._monitorIntersections(D.ownerDocument)}}},s.prototype._unmonitorIntersections=function(c){var f=this._monitoringDocuments.indexOf(c);if(f!=-1){var p=this.root&&(this.root.ownerDocument||this.root)||e,y=this._observationTargets.some(function(D){var C=D.element.ownerDocument;if(C==c)return!0;for(;C&&C!=p;){var L=t(C);if(C=L&&L.ownerDocument,C==c)return!0}return!1});if(!y){var b=this._monitoringUnsubscribes[f];if(this._monitoringDocuments.splice(f,1),this._monitoringUnsubscribes.splice(f,1),b(),c!=p){var N=t(c);N&&this._unmonitorIntersections(N.ownerDocument)}}}},s.prototype._unmonitorAllIntersections=function(){var c=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var f=0;f<c.length;f++)c[f]()},s.prototype._checkForIntersections=function(){if(!(!this.root&&r&&!i)){var c=this._rootIsInDom(),f=c?this._getRootRect():g();this._observationTargets.forEach(function(p){var y=p.element,b=m(y),N=this._rootContainsTarget(y),D=p.entry,C=c&&N&&this._computeTargetAndRootIntersection(y,b,f),L=null;this._rootContainsTarget(y)?(!r||this.root)&&(L=f):L=g();var B=p.entry=new o({time:a(),target:y,boundingClientRect:b,rootBounds:L,intersectionRect:C});D?c&&N?this._hasCrossedThreshold(D,B)&&this._queuedEntries.push(B):D&&D.isIntersecting&&this._queuedEntries.push(B):this._queuedEntries.push(B)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},s.prototype._computeTargetAndRootIntersection=function(c,f,p){if(window.getComputedStyle(c).display!="none"){for(var y=f,b=T(c),N=!1;!N&&b;){var D=null,C=b.nodeType==1?window.getComputedStyle(b):{};if(C.display=="none")return null;if(b==this.root||b.nodeType==9)if(N=!0,b==this.root||b==e)r&&!this.root?!i||i.width==0&&i.height==0?(b=null,D=null,y=null):D=i:D=p;else{var L=T(b),B=L&&m(L),Xt=L&&this._computeTargetAndRootIntersection(L,B,p);B&&Xt?(b=L,D=S(B,Xt)):(b=null,y=null)}else{var V=b.ownerDocument;b!=V.body&&b!=V.documentElement&&C.overflow!="visible"&&(D=m(b))}if(D&&(y=h(D,y)),!y)break;b=b&&T(b)}return y}},s.prototype._getRootRect=function(){var c;if(this.root&&!A(this.root))c=m(this.root);else{var f=A(this.root)?this.root:e,p=f.documentElement,y=f.body;c={top:0,left:0,right:p.clientWidth||y.clientWidth,width:p.clientWidth||y.clientWidth,bottom:p.clientHeight||y.clientHeight,height:p.clientHeight||y.clientHeight}}return this._expandRectByRootMargin(c)},s.prototype._expandRectByRootMargin=function(c){var f=this._rootMarginValues.map(function(y,b){return y.unit=="px"?y.value:y.value*(b%2?c.width:c.height)/100}),p={top:c.top-f[0],right:c.right+f[1],bottom:c.bottom+f[2],left:c.left-f[3]};return p.width=p.right-p.left,p.height=p.bottom-p.top,p},s.prototype._hasCrossedThreshold=function(c,f){var p=c&&c.isIntersecting?c.intersectionRatio||0:-1,y=f.isIntersecting?f.intersectionRatio||0:-1;if(p!==y)for(var b=0;b<this.thresholds.length;b++){var N=this.thresholds[b];if(N==p||N==y||N<p!=N<y)return!0}},s.prototype._rootIsInDom=function(){return!this.root||v(e,this.root)},s.prototype._rootContainsTarget=function(c){var f=this.root&&(this.root.ownerDocument||this.root)||e;return v(f,c)&&(!this.root||f==c.ownerDocument)},s.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},s.prototype._unregisterInstance=function(){var c=n.indexOf(this);c!=-1&&n.splice(c,1)};function a(){return window.performance&&performance.now&&performance.now()}function l(c,f){var p=null;return function(){p||(p=setTimeout(function(){c(),p=null},f))}}function u(c,f,p,y){typeof c.addEventListener=="function"?c.addEventListener(f,p,y||!1):typeof c.attachEvent=="function"&&c.attachEvent("on"+f,p)}function d(c,f,p,y){typeof c.removeEventListener=="function"?c.removeEventListener(f,p,y||!1):typeof c.detachEvent=="function"&&c.detachEvent("on"+f,p)}function h(c,f){var p=Math.max(c.top,f.top),y=Math.min(c.bottom,f.bottom),b=Math.max(c.left,f.left),N=Math.min(c.right,f.right),D=N-b,C=y-p;return D>=0&&C>=0&&{top:p,bottom:y,left:b,right:N,width:D,height:C}||null}function m(c){var f;try{f=c.getBoundingClientRect()}catch{}return f?(f.width&&f.height||(f={top:f.top,right:f.right,bottom:f.bottom,left:f.left,width:f.right-f.left,height:f.bottom-f.top}),f):g()}function g(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function _(c){return!c||"x"in c?c:{top:c.top,y:c.top,bottom:c.bottom,left:c.left,x:c.left,right:c.right,width:c.width,height:c.height}}function S(c,f){var p=f.top-c.top,y=f.left-c.left;return{top:p,left:y,height:f.height,width:f.width,bottom:p+f.height,right:y+f.width}}function v(c,f){for(var p=f;p;){if(p==c)return!0;p=T(p)}return!1}function T(c){var f=c.parentNode;return c.nodeType==9&&c!=e?t(c):(f&&f.assignedSlot&&(f=f.assignedSlot.parentNode),f&&f.nodeType==11&&f.host?f.host:f)}function A(c){return c&&c.nodeType===9}window.IntersectionObserver=s,window.IntersectionObserverEntry=o})();var Uo=at(Wo());(function(){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();Object.entries||Uo.default.shim();var Go="FRILL_ENV";function F(t,e=""){return typeof process<"u"&&t in process.env?process.env[t]??e:typeof window<"u"&&window[Go]?window[Go][t]??e:e}var oe=!1,We=!0,Bo=!1,Ue="production",Yo=We&&Ue==="staging",Zc=We&&Ue==="production",Ko="dd2e8644b884818f47e072789d490bda14e965f6";var bh=F("PUBLIC_CDN_URL",""),Jc=F("PUBLIC_CDN_ASSETS_URL",""),wh=F("PUBLIC_S3_ORIGIN",""),Sh=`${Jc}og-image`,j=typeof window>"u",Eh=!j&&navigator&&navigator.appVersion.indexOf("Win")!=-1,vh=j?!0:navigator&&navigator.userAgent.includes("Macintosh"),Th=!j&&navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent);var nr=F("PUBLIC_BASE_DOMAIN","frill.co");var xh=F("PUBLIC_APP_GTM_ID"),Ih=F("PUBLIC_RECAPTCHA_SITE_KEY"),Ah=F("PUBLIC_HELP_SCOUT_ID"),Oh=F("PUBLIC_CUSTOMER_IO_ID"),Nh=F("PUBLIC_USERMAVEN_KEY");var tf="app",ef="feedback";var nf=`${tf}.${nr}`,Dh=`${ef}.${nr}`;var rt="#ef567c";var Ch=F("PUBLIC_CUSTOM_DOMAIN_CNAME","cname.frill.co"),Rh=F("PUBLIC_HOMEPAGE_URL","https://frill.co"),Ph=F("PUBLIC_HOMEPAGE_URL","https://frill.co/pricing"),Fh=F("PUBLIC_FEEDBACK_URL","https://feedback.frill.co");var Mh=F("PUBLIC_NOTIFICATIONS_EMAIL","notifications@frill.co"),rf=F("PUBLIC_SUPPORT_EMAIL","support@frill.co"),Lh=`mailto:${rf}`,Ge={HOME:"https://help.frill.co",DEVELOPER_DOCS:"https://developers.frill.co",SSO:" https://help.frill.co/article/65-sso-implementation",WIDGET:"https://help.frill.co/article/75-adding-the-widget",WIDGET_SSO:"https://help.frill.co/article/97-widget-sso",WIDGET_GTM:"https://help.frill.co/article/225-using-google-tag-manager-to-install-the-frill-script",WIDGET_EXAMPLES:"https://github.com/Frill-co/frill-widget-examples",WIDGET_EXAMPLE_HTML:"https://github.com/Frill-co/frill-widget-examples/tree/master/html",WIDGET_EXAMPLE_REACT:"https://github.com/Frill-co/frill-widget-examples/tree/master/react",WIDGET_EXAMPLE_VUE:"https://github.com/Frill-co/frill-widget-examples/tree/master/vue",WIDGET_EXAMPLE_ANGULAR:"https://github.com/Frill-co/frill-widget-examples/tree/master/angular",FRILL_SCRIPT:"https://help.frill.co/article/224-introduction-to-the-frill-script",SURVEYS:"https://help.frill.co/article/224-introduction-to-the-frill-script",WIDGET_LEGACY:"https://help.frill.co/article/235-legacy-widgets",WIDGET_TARGETING:"https://help.frill.co/article/236-survey-and-widget-targeting",SDK_IDENTIFY_USERS:"https://github.com/Frill-co/frill-widget-examples?tab=readme-ov-file#identifying-users",DOMAINS:"https://help.frill.co/article/88-setting-up-a-custom-domain",WEBHOOKS:"https://help.frill.co/article/93-webhooks",EMAILS:"https://help.frill.co/article/114-setting-up-a-custom-email-domain",AUTHENTICATION:"https://help.frill.co/article/99-different-types-of-authentication",FEEDBACK_BEACONS:"https://help.frill.co/article/126-feedback-beacons",IDEA_POLLS:"https://help.frill.co/article/159-idea-polls",INTEGRATIONS_INTERCOM:"https://help.frill.co/article/133-intercom-integration",INTEGRATIONS_LINEAR:"https://help.frill.co/article/255-getting-started-with-the-linear-integration",INTEGRATIONS_HELPSCOUT:"https://help.frill.co/article/149-frill-helpscout-integration",INTEGRATIONS_ZAPIER:"https://help.frill.co/article/152-zapier-integration-for-frill",INTEGRATIONS_SLACK:"https://help.frill.co/article/256-getting-started-with-the-slack-integration",PRIORITY_SCORE:"https://help.frill.co/article/145-how-does-prioritization-work",MAINTENANCE_MAR_16:"https://help.frill.co/article/200-scheduled-maintenance-march-16th-2024",CUSTOM_ATTRIBUTES:"https://help.frill.co/article/204-adding-custom-user-attributes-for-segmentation",ANNOUNCEMENT_EMBED:"https://help.frill.co/article/266-announcement-video-embed"};var kh=F("PUBLIC_SUPERADMIN_URL","https://superadmin.frill.co");var Wh={bytes:1024*1024*2,label:"2 Mb"},Uh={bytes:1024*1024*10,label:"10 Mb"};var of="https://widget.frill.co/v2/container.js",sf="https://widget.stage.frill.co/v2/container.js";var $o=Zc?of:sf;var se={IDEA:"f-idea",ANNOUNCEMENT:"f-announcement",SECTION:"f-section",OPEN:"f-open"};var w={HOME:"/",SIGNUP:"/signup",LOGIN:"/login",LOGIN_SSO:"/login/sso",LOGIN_TEAM:"/login/team",LOGIN_ONE_TIME_CODE:"/login/code",FORGOT_PASSWORD:"/forgot-password",RESET_PASSWORD:"/reset-password",TERMS_OF_SERVICE:"/terms-of-service",PRIVACY_POLICY:"/privacy-policy",APPSUMO_SIGNUP:"/appsumo/signup",DASHBOARD:"/dashboard",DASHBOARD_ACTIVITY:"/dashboard/activity",DASHBOARD_MENTIONS:"/dashboard/mentions",DASHBOARD_USERS:"/dashboard/users",DASHBOARD_VIEW_USER:"/dashboard/users/[id]",DASHBOARD_SEGMENT:"/dashboard/users/segment/[segment]",DASHBOARD_SEGMENT_VIEW_USER:"/dashboard/users/segment/[segment]/[id]",DASHBOARD_COMMENT_APPROVAL:"/dashboard/comments",DASHBOARD_COMMENT_APPROVAL_IDEA:"/dashboard/comments/[ideaSlug]",DASHBOARD_IDEA_APPROVAL:"/dashboard/ideas",DASHBOARD_IDEA_APPROVAL_IDEA:"/dashboard/ideas/[ideaSlug]",DASHBOARD_USER_APPROVAL:"/dashboard/user-approval",DASHBOARD_PRIORITY_MATRIX:"/dashboard/prioritization-matrix",DASHBOARD_WIDGETS:"/dashboard/widgets",DASHBOARD_WIDGET_VIEW:"/dashboard/widgets/[widgetId]",DASHBOARD_WIDGET_EDIT:"/dashboard/widgets/[widgetId]/edit",DASHBOARD_SURVEYS:"/dashboard/surveys",DASHBOARD_SURVEYS_NEW:"/dashboard/surveys/[containerId]/new",DASHBOARD_SURVEY_VIEW:"/dashboard/surveys/[surveyId]",DASHBOARD_SURVEY_RESPONSES:"/dashboard/surveys/[surveyId]/responses",DASHBOARD_SURVEY_EDIT:"/dashboard/surveys/[surveyId]/edit",CHOOSE_COMPANY:"/company",CREATE_COMPANY:"/company/new",CREATE_COMPANY_ONBOARDING:"/company/new/[step]",SWITCH_COMPANY:"/company/switch",VIEW_IDEA:"/board/[ideaSlug]",VIEW_BOARD:"/b/[boardId]/[boardSlug]",VIEW_BOARD_IDEA:"/b/[boardId]/[boardSlug]/[ideaSlug]",BOARD_NEW_IDEA:"/b/[boardId]/[boardSlug]/idea/new",VIEW_ROADMAP:"/roadmap",VIEW_ROADMAP_IDEA:"/roadmap/[ideaSlug]",ROADMAP_NEW_IDEA:"/roadmap/idea/new",VIEW_ANNOUNCEMENTS:"/announcements",NEW_ANNOUNCEMENT:"/announcements/new",EDIT_ANNOUNCEMENT:"/announcements/edit/[announcementSlug]",VIEW_ANNOUNCEMENT:"/announcements/[announcementSlug]",SETTINGS:"/settings",SETTINGS_PROFILE:"/settings/profile",SETTINGS_MY_CONTENT:"/settings/my-content",SETTINGS_MY_CONTENT_IDEAS:"/settings/my-content/ideas",SETTINGS_MY_CONTENT_COMMENTS:"/settings/my-content/comments",SETTINGS_MY_CONTENT_VOTES:"/settings/my-content/votes",SETTINGS_NOTIFICATIONS:"/settings/notifications",SETTINGS_UNSUBSCRIBE:"/settings/unsubscribe",SETTINGS_COMPANY:"/settings/company",SETTINGS_COMPANY_AUTHENTICATION:"/settings/company/authentication",SETTINGS_COMPANY_BOARDS:"/settings/company/boards",SETTINGS_COMPANY_TEAM:"/settings/company/team",SETTINGS_COMPANY_USERS:"/settings/company/users",SETTINGS_COMPANY_BILLING:"/settings/company/billing",SETTINGS_COMPANY_UPGRADE:"/settings/company/upgrade",SETTINGS_COMPANY_TOPICS:"/settings/company/topics",SETTINGS_COMPANY_STATUSES:"/settings/company/statuses",SETTINGS_COMPANY_CATEGORIES:"/settings/company/categories",SETTINGS_COMPANY_MISCELLANEOUS:"/settings/company/miscellaneous",SETTINGS_COMPANY_SSO:"/settings/company/sso",SETTINGS_COMPANY_EMAILS:"/settings/company/emails",SETTINGS_COMPANY_EMAILS_TEMPLATES:"/settings/company/emails/templates",SETTINGS_COMPANY_EMAILS_TEMPLATE_EDIT:"/settings/company/emails/templates/[id]",SETTINGS_COMPANY_EMAILS_BRANDING:"/settings/company/emails/branding",SETTINGS_COMPANY_EMAILS_CUSTOM_EMAIL:"/settings/company/emails/custom-email",SETTINGS_COMPANY_LANGUAGES:"/settings/company/languages",SETTINGS_COMPANY_LANGUAGES_GROUP:"/settings/company/languages/[language]/[group]",SETTINGS_COMPANY_CUSTOM_DOMAINS:"/settings/company/custom-domains",SETTINGS_COMPANY_PRIORITIZATION:"/settings/company/prioritization",SETTINGS_COMPANY_THEME:"/settings/company/theme",SETTINGS_COMPANY_WIDGET_LEGACY:"/settings/company/widget/legacy",SETTINGS_COMPANY_PRIVACY:"/settings/company/privacy",SETTINGS_COMPANY_WHITE_LABEL:"/settings/company/white-label",SETTINGS_COMPANY_WEBHOOKS:"/settings/company/webhooks",SETTINGS_COMPANY_API:"/settings/company/api",SETTINGS_COMPANY_INTEGRATIONS:"/settings/company/integrations",SETTINGS_COMPANY_INTEGRATIONS_SLACK:"/settings/company/integrations/slack",SETTINGS_COMPANY_INTEGRATIONS_TRELLO:"/settings/company/integrations/trello",SETTINGS_COMPANY_INTEGRATIONS_JIRA:"/settings/company/integrations/jira",SETTINGS_COMPANY_INTEGRATIONS_PABBLY:"/settings/company/integrations/pabbly",SETTINGS_COMPANY_INTEGRATIONS_INTEGRATELY:"/settings/company/integrations/integrately",SETTINGS_COMPANY_INTEGRATIONS_LINEAR:"/settings/company/integrations/linear",SETTINGS_COMPANY_INTEGRATIONS_ZAPIER:"/settings/company/integrations/zapier",SETTINGS_COMPANY_INTEGRATIONS_ZENDESK:"/settings/company/integrations/zendesk",SETTINGS_COMPANY_INTEGRATIONS_INTERCOM:"/settings/company/integrations/intercom",SETTINGS_COMPANY_INTEGRATIONS_HELPSCOUT:"/settings/company/integrations/helpscout",INTEGRATIONS_SLACK:"/integrations/slack",INTEGRATIONS_TRELLO:"/integrations/trello",INTEGRATIONS_JIRA:"/integrations/jira",INTEGRATIONS_ZENDESK:"/integrations/zendesk",INTEGRATIONS_INTERCOM:"/integrations/intercom",INTEGRATIONS_LINEAR:"/integrations/linear",REDIRECTS_SSO:"/redirects/sso"};var ae="v2",Gh=typeof window<"u"&&window.top!==window,Ho=3e3,af=Yo?"widget.stage":"widget",rr=`https://${af}.frill.co`,Vo=oe||Bo?"container.css":`${rr}/${ae}/container.css`,lf=`/${ae}/survey`,Bh=`${rr}${lf}`,Yh=`https://localhost:${Ho}`;var cf=`/${ae}/app`,ff=`${rr}${cf}`,uf=`https://localhost:${Ho}`,Be=oe||Bo?uf:ff;var ir="data-frill-widget",jo="data-frill-sso",le="data-frill-widget-loaded",Ye="Frill_Frame",qo="Frill_Frame",zo="Frill_Styles",or="Frill_Badge",it="Frill_Notification",Rt="Frill_Trigger",X="Frill_Trigger--unread",Pt="Frill_View",Y={HOME:"/",ANNOUNCEMENTS:"/announcements",VIEW_ANNOUNCEMENT:"/announcements/[announcementSlug]",ANNOUNCEMENTS_IDEA:"/announcements/idea/[ideaSlug]",ROADMAP:"/roadmap",ROADMAP_IDEA:"/roadmap/[ideaSlug]",IDEAS:"/ideas",IDEA_IDEA:"/ideas/[ideaSlug]",IDEAS_CREATE_IDEA:"/ideas/idea/new",CREATE_IDEA:"/create-idea",VIEW_IDEA:"/create-idea/[ideaSlug]",TERMS_OF_SERVICE:"/terms-of-service",PRIVACY_POLICY:"/privacy-policy"},Xo="frill-widget",ot={LAUNCHER_OPEN:"Open Feedback Widget",LAUNCHER_CLOSE:"Close Feedback Widget"},Kh=F("PUBLIC_API_BASE_URI","https://api.frill.co");var sr="/api",Ft={WIDGET_SETTINGS:"/v2/[key]/settings/",SURVEY_SETTINGS:"/v2/surveys/[key]",IDENTIFY:"/v2/container/[key]/identify",CONTAINER_SETTINGS:"/v2/container/[key]",UPDATE_USER_META:"/v2/auth/user-meta",ANNOUNCEMENTS:"/v2/[key]/announcements/",ROADMAP:"/v2/[key]/roadmap/",IDEAS:"/v2/[key]/ideas/"},pf="https://widget.frill.co",df="https://widget.stage.frill.co",Qo=Yo||oe?df:pf;var $h=[{value:"usd",label:"USD"},{value:"aud",label:"AUD"}];var Zo={announcement:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g stroke="currentColor" stroke-width="1.5"><path d="m4.45833 8.37499h3.88889c5.34718-.4861 9.23608-2.91666 9.23608-3.40276 0-.48612.4861-.97223 1.4584-.97223.7778 0 1.2963.64814 1.4583.97223v12.63887c0 .4861-.2917 1.4584-1.4583 1.4584-1.1667 0-1.2963-.9723-1.4584-1.4584-4.375-1.9445-7.6157-2.5926-9.23608-2.9166h-3.88889c-.97221 0-1.45833-1.0695-1.45833-3.4029 0-2.33327.48612-2.91661 1.45833-2.91661z"/><path d="m8.34732 8.37476v6.31944"/><path d="m17.5834 4.97223v12.63887"/><path d="m5.43057 14.6945 2.43055 5.3472c.16204.3241.77778.8751 1.94445.4862.80213-.2674.48613-.9723.48613-1.4584l-.48613-3.8889"/></g></svg>',roadmap:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m9 4.75c-.13511 0-.26187.03573-.37136.09825l-5.48778 2.99333c-.24094.13142-.39086.38396-.39086.65842v10.5c0 .255.12956.4925.34396.6306.2144.138.48425.1577.71639.0522l5.17427-2.352 5.67998 2.84c.2196.1098.479.1052.6945-.0124l5.5-3c.241-.1314.3909-.3839.3909-.6584v-10.5c0-.24466-.1193-.47394-.3197-.6143s-.4567-.17416-.6866-.09054l-5.2252 1.90006-5.71454-2.38107c-.09291-.04124-.19576-.06415-.30396-.06415zm-4.75 4.19523 4-2.18182v9.25369l-4 1.8181zm10 9.34127-4.5-2.25v-9.4115l4.5 1.875zm1.5-.0499 4-2.1818v-8.98402l-4 1.45454z" fill="currentColor" fillRule="evenodd"/></svg>',bolt:'<svg fill="none" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="m6.98592 18.5024h7.60558l-4.014 10.8001c-.5212 1.4026.9155 2.132 1.845.9959l12.2254-15.1623c.2394-.2946.3521-.5611.3521-.8696 0-.519-.3944-.9117-.9718-.9117h-7.6057l4.0141-10.80017c.5211-1.40262-.9296-2.131982-1.8451-.99586l-12.2253 15.16233c-.23944.2945-.3662.561-.3662.8696 0 .5189.40845.9117.98592.9117z" fill="currentColor"/></svg>',idea:'<svg fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m7.36573 18.0735-1.43908-1.4391 7.32345-7.32349 1.4391 1.43909zm8.90197-6.7807c.0042-.004.0085-.0082.0127-.0123.0041-.0042.0083-.0085.0123-.0127l2.9292-2.92919c.537-.53697.537-1.40757 0-1.94454l-1.6158-1.61585c-.537-.53697-1.4076-.53697-1.9446 0l-2.9302 2.93022c-.0039.00373-.0078.00752-.0116.01136s-.0076.00771-.0114.01161l-7.93069 7.93069c-.53697.537-.53697 1.4076 0 1.9446l1.61585 1.6158c.53697.537 1.40757.537 1.94454 0zm-1.9569-3.04255 2.323-2.32299 1.4391 1.43908-2.323 2.32299zm-6.06077-3.62512c.27614 0 .5.22386.5.5v1.375h1.37497c.2762 0 .5.22386.5.5s-.2238.5-.5.5h-1.37497v1.375c0 .27614-.22386.5-.5.5s-.5-.22386-.5-.5v-1.375h-1.375c-.27614 0-.5-.22386-.5-.5s.22386-.5.5-.5h1.375v-1.375c0-.27614.22386-.5.5-.5zm11.12497 7.37497c0-.2761-.2238-.5-.5-.5-.2761 0-.5.2239-.5.5v1.375h-1.375c-.2761 0-.5.2239-.5.5 0 .2762.2239.5.5.5h1.375v1.375c0 .2762.2239.5.5.5.2762 0 .5-.2238.5-.5v-1.375h1.375c.2762 0 .5-.2238.5-.5 0-.2761-.2238-.5-.5-.5h-1.375zm-4.25 3.875c.2762 0 .5.2239.5.5v.75h.75c.2762 0 .5.2239.5.5 0 .2762-.2238.5-.5.5h-.75v.75c0 .2762-.2238.5-.5.5-.2761 0-.5-.2238-.5-.5v-.75h-.75c-.2761 0-.5-.2238-.5-.5 0-.2761.2239-.5.5-.5h.75v-.75c0-.2761.2239-.5.5-.5z" fill="currentColor" fillRule="evenodd"/></svg>',intercom:'<svg viewBox="0 0 28 32"><path fill="currentColor" d="M28,32 C28,32 23.2863266,30.1450667 19.4727818,28.6592 L3.43749107,28.6592 C1.53921989,28.6592 0,27.0272 0,25.0144 L0,3.6448 C0,1.632 1.53921989,0 3.43749107,0 L24.5615088,0 C26.45978,0 27.9989999,1.632 27.9989999,3.6448 L27.9989999,22.0490667 L28,22.0490667 L28,32 Z M23.8614088,20.0181333 C23.5309223,19.6105242 22.9540812,19.5633836 22.5692242,19.9125333 C22.5392199,19.9392 19.5537934,22.5941333 13.9989999,22.5941333 C8.51321617,22.5941333 5.48178311,19.9584 5.4277754,19.9104 C5.04295119,19.5629428 4.46760991,19.6105095 4.13759108,20.0170667 C3.97913051,20.2124916 3.9004494,20.4673395 3.91904357,20.7249415 C3.93763774,20.9825435 4.05196575,21.2215447 4.23660523,21.3888 C4.37862552,21.5168 7.77411059,24.5386667 13.9989999,24.5386667 C20.2248893,24.5386667 23.6203743,21.5168 23.7623946,21.3888 C23.9467342,21.2215726 24.0608642,20.9827905 24.0794539,20.7254507 C24.0980436,20.4681109 24.0195551,20.2135019 23.8614088,20.0181333 Z"></path></svg>'},Ke=class{constructor(e,n){this.widget=e;this.options=n;this.type="floating";this.classNames={default:"Frill_Trigger_Floating"}}setup(){let{backgroundColor:e=rt,color:n="light",icon:r="bolt",position:i="bottom-right"}=this.options;this.element=document.createElement("button"),this.element.type="button",this.element.classList.add(Rt,this.classNames.default,`${this.classNames.default}--${i}`),this.element.style.color=n==="dark"?"#202020":"#fff",this.element.style.backgroundColor=e||rt,this.element.innerHTML=r in Zo?Zo[r]:"",this.element.setAttribute("aria-label",ot.LAUNCHER_OPEN),this.widget.parent.appendChild(this.element),this.element.addEventListener("click",this.widget.toggle),this.element.addEventListener("mouseenter",this.widget.interaction)}addBadge(e){this.element.appendChild(e)}destroy(){this.element&&(this.element.removeEventListener("click",this.widget.toggle),this.element.removeEventListener("mouseenter",this.widget.interaction),this.element.parentNode?.removeChild(this.element))}update(){if(!this.element)return;let{isOpen:e,unreadCount:n}=this.widget.state;n?this.element.classList.add(X):this.element.classList.remove(X),this.element.setAttribute("aria-label",e?ot.LAUNCHER_CLOSE:ot.LAUNCHER_OPEN)}};var mf=Math.pow(10,8)*24*60*60*1e3,Qh=-mf,$e=6048e5,Jo=864e5;var ce=43200,ar=1440;var hf=3600;var ts=hf*24,Zh=ts*7,gf=ts*365.2425,yf=gf/12,Jh=yf*3,lr=Symbol.for("constructDateFrom");function M(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&lr in t?t[lr](e):t instanceof Date?new t.constructor(e):new Date(e)}function q(t,...e){let n=M.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function I(t,e){return M(e||t,t)}function Mt(t){let e=I(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function cr(t,e){let n=I(t,e?.in);return n.setHours(0,0,0,0),n}function He(t,e,n){let[r,i]=q(n?.in,t,e),o=cr(r),s=cr(i),a=+o-Mt(o),l=+s-Mt(s);return Math.round((a-l)/Jo)}function ns(t,e,n){let[r,i]=q(n?.in,t,e),o=es(r,i),s=Math.abs(He(r,i));r.setDate(r.getDate()-o*s);let a=+(es(r,i)===-o),l=o*(s-a);return l===0?0:l}function es(t,e){let n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}var _f={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rs=(t,e,n)=>{let r,i=_f[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ve(t){return(e={})=>{let n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var bf={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},wf={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sf={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},is={date:Ve({formats:bf,defaultWidth:"full"}),time:Ve({formats:wf,defaultWidth:"full"}),dateTime:Ve({formats:Sf,defaultWidth:"full"})};var Ef={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},os=(t,e,n,r)=>Ef[t];function Lt(t){return(e,n)=>{let r=n?.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){let s=t.defaultFormattingWidth||t.defaultWidth,a=n?.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{let s=t.defaultWidth,a=n?.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}let o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}var vf={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tf={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xf={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},If={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Af={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Of={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Nf=(t,e)=>{let n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ss={ordinalNumber:Nf,era:Lt({values:vf,defaultWidth:"wide"}),quarter:Lt({values:Tf,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Lt({values:xf,defaultWidth:"wide"}),day:Lt({values:If,defaultWidth:"wide"}),dayPeriod:Lt({values:Af,defaultWidth:"wide",formattingValues:Of,defaultFormattingWidth:"wide"})};function kt(t){return(e,n={})=>{let r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;let s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Cf(a,h=>h.test(s)):Df(a,h=>h.test(s)),u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;let d=e.slice(s.length);return{value:u,rest:d}}}function Df(t,e){for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Cf(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function as(t){return(e,n={})=>{let r=e.match(t.matchPattern);if(!r)return null;let i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;let a=e.slice(i.length);return{value:s,rest:a}}}var Rf=/^(\d+)(th|st|nd|rd)?/i,Pf=/\d+/i,Ff={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mf={any:[/^b/i,/^(a|c)/i]},Lf={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kf={any:[/1/i,/2/i,/3/i,/4/i]},Wf={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uf={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gf={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bf={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yf={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kf={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ls={ordinalNumber:as({matchPattern:Rf,parsePattern:Pf,valueCallback:t=>parseInt(t,10)}),era:kt({matchPatterns:Ff,defaultMatchWidth:"wide",parsePatterns:Mf,defaultParseWidth:"any"}),quarter:kt({matchPatterns:Lf,defaultMatchWidth:"wide",parsePatterns:kf,defaultParseWidth:"any",valueCallback:t=>t+1}),month:kt({matchPatterns:Wf,defaultMatchWidth:"wide",parsePatterns:Uf,defaultParseWidth:"any"}),day:kt({matchPatterns:Gf,defaultMatchWidth:"wide",parsePatterns:Bf,defaultParseWidth:"any"}),dayPeriod:kt({matchPatterns:Yf,defaultMatchWidth:"any",parsePatterns:Kf,defaultParseWidth:"any"})};var fe={code:"en-US",formatDistance:rs,formatLong:is,formatRelative:os,localize:ss,match:ls,options:{weekStartsOn:0,firstWeekContainsDate:1}};var $f={};function z(){return $f}function cs(t,e){let n=I(t,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function fs(t,e){let n=I(t,e?.in);return He(n,cs(n))+1}function Q(t,e){let n=z(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=I(t,e?.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function ct(t,e){return Q(t,{...e,weekStartsOn:1})}function je(t,e){let n=I(t,e?.in),r=n.getFullYear(),i=M(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);let o=ct(i),s=M(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);let a=ct(s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function us(t,e){let n=je(t,e),r=M(e?.in||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ct(r)}function ps(t,e){let n=I(t,e?.in),r=+ct(n)-+us(n);return Math.round(r/$e)+1}function qe(t,e){let n=I(t,e?.in),r=n.getFullYear(),i=z(),o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=M(e?.in||t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);let a=Q(s,e),l=M(e?.in||t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);let u=Q(l,e);return+n>=+a?r+1:+n>=+u?r:r-1}function ds(t,e){let n=z(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=qe(t,e),o=M(e?.in||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Q(o,e)}function ms(t,e){let n=I(t,e?.in),r=+Q(n,e)-+ds(n,e);return Math.round(r/$e)+1}function O(t,e){let n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}var Z={y(t,e){let n=t.getFullYear(),r=n>0?n:1-n;return O(e==="yy"?r%100:r,e.length)},M(t,e){let n=t.getMonth();return e==="M"?String(n+1):O(n+1,2)},d(t,e){return O(t.getDate(),e.length)},a(t,e){let n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return O(t.getHours()%12||12,e.length)},H(t,e){return O(t.getHours(),e.length)},m(t,e){return O(t.getMinutes(),e.length)},s(t,e){return O(t.getSeconds(),e.length)},S(t,e){let n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return O(i,e.length)}};var Wt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},fr={G:function(t,e,n){let r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){let r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Z.y(t,e)},Y:function(t,e,n,r){let i=qe(t,r),o=i>0?i:1-i;if(e==="YY"){let s=o%100;return O(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):O(o,e.length)},R:function(t,e){let n=je(t);return O(n,e.length)},u:function(t,e){let n=t.getFullYear();return O(n,e.length)},Q:function(t,e,n){let r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return O(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){let r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return O(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){let r=t.getMonth();switch(e){case"M":case"MM":return Z.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){let r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return O(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){let i=ms(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):O(i,e.length)},I:function(t,e,n){let r=ps(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):O(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Z.d(t,e)},D:function(t,e,n){let r=fs(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):O(r,e.length)},E:function(t,e,n){let r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){let i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return O(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){let i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return O(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){let r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return O(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){let i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){let r=t.getHours(),i;switch(r===12?i=Wt.noon:r===0?i=Wt.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){let r=t.getHours(),i;switch(r>=17?i=Wt.evening:r>=12?i=Wt.afternoon:r>=4?i=Wt.morning:i=Wt.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Z.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Z.H(t,e)},K:function(t,e,n){let r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):O(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):O(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Z.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Z.s(t,e)},S:function(t,e){return Z.S(t,e)},X:function(t,e,n){let r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return gs(r);case"XXXX":case"XX":return ft(r);case"XXXXX":case"XXX":default:return ft(r,":")}},x:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"x":return gs(r);case"xxxx":case"xx":return ft(r);case"xxxxx":case"xxx":default:return ft(r,":")}},O:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hs(r,":");case"OOOO":default:return"GMT"+ft(r,":")}},z:function(t,e,n){let r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hs(r,":");case"zzzz":default:return"GMT"+ft(r,":")}},t:function(t,e,n){let r=Math.trunc(+t/1e3);return O(r,e.length)},T:function(t,e,n){return O(+t,e.length)}};function hs(t,e=""){let n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+O(o,2)}function gs(t,e){return t%60===0?(t>0?"-":"+")+O(Math.abs(t)/60,2):ft(t,e)}function ft(t,e=""){let n=t>0?"-":"+",r=Math.abs(t),i=O(Math.trunc(r/60),2),o=O(r%60,2);return n+i+e+o}var ys=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},_s=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Hf=(t,e)=>{let n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return ys(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",ys(r,e)).replace("{{time}}",_s(i,e))},bs={p:_s,P:Hf};var Vf=/^D+$/,jf=/^Y+$/,qf=["D","DD","YY","YYYY"];function ws(t){return Vf.test(t)}function Ss(t){return jf.test(t)}function Es(t,e,n){let r=zf(t,e,n);if(console.warn(r),qf.includes(t))throw new RangeError(r)}function zf(t,e,n){let r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function vs(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ts(t){return!(!vs(t)&&typeof t!="number"||isNaN(+I(t)))}var Xf=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qf=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zf=/^'([^]*?)'?$/,Jf=/''/g,tu=/[a-zA-Z]/;function xs(t,e,n){let r=z(),i=n?.locale??r.locale??fe,o=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=I(t,n?.in);if(!Ts(a))throw new RangeError("Invalid time value");let l=e.match(Qf).map(d=>{let h=d[0];if(h==="p"||h==="P"){let m=bs[h];return m(d,i.formatLong)}return d}).join("").match(Xf).map(d=>{if(d==="''")return{isToken:!1,value:"'"};let h=d[0];if(h==="'")return{isToken:!1,value:eu(d)};if(fr[h])return{isToken:!0,value:d};if(h.match(tu))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));let u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(d=>{if(!d.isToken)return d.value;let h=d.value;(!n?.useAdditionalWeekYearTokens&&Ss(h)||!n?.useAdditionalDayOfYearTokens&&ws(h))&&Es(h,e,String(t));let m=fr[h[0]];return m(a,h,i.localize,u)}).join("")}function eu(t){let e=t.match(Zf);return e?e[1].replace(Jf,"'"):t}function Is(t){return M(t,Date.now())}function Ut(t,e){let n=+I(t)-+I(e);return n<0?-1:n>0?1:n}function As(t,e,n){let[r,i]=q(n?.in,t,e),o=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return o*12+s}function Os(t,e){let n=I(t,e?.in);return n.setHours(23,59,59,999),n}function Ns(t,e){let n=I(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Ds(t,e){let n=I(t,e?.in);return+Os(n,e)==+Ns(n,e)}function Cs(t,e,n){let[r,i,o]=q(n?.in,t,t,e),s=Ut(i,o),a=Math.abs(As(i,o));if(a<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-s*a);let l=Ut(i,o)===-s;Ds(r)&&a===1&&Ut(r,o)===1&&(l=!1);let u=s*(a-+l);return u===0?0:u}function Rs(t){return e=>{let r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function Ps(t,e){return+I(t)-+I(e)}function Fs(t,e,n){let r=Ps(t,e)/1e3;return Rs(n?.roundingMethod)(r)}function Ms(t,e,n){let r=z(),i=n?.locale??r.locale??fe,o=2520,s=Ut(t,e);if(isNaN(s))throw new RangeError("Invalid time value");let a=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:s}),[l,u]=q(n?.in,...s>0?[e,t]:[t,e]),d=Fs(u,l),h=(Mt(u)-Mt(l))/1e3,m=Math.round((d-h)/60),g;if(m<2)return n?.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,a):d<10?i.formatDistance("lessThanXSeconds",10,a):d<20?i.formatDistance("lessThanXSeconds",20,a):d<40?i.formatDistance("halfAMinute",0,a):d<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):m===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",m,a);if(m<45)return i.formatDistance("xMinutes",m,a);if(m<90)return i.formatDistance("aboutXHours",1,a);if(m<ar){let _=Math.round(m/60);return i.formatDistance("aboutXHours",_,a)}else{if(m<o)return i.formatDistance("xDays",1,a);if(m<ce){let _=Math.round(m/ar);return i.formatDistance("xDays",_,a)}else if(m<ce*2)return g=Math.round(m/ce),i.formatDistance("aboutXMonths",g,a)}if(g=Cs(u,l),g<12){let _=Math.round(m/ce);return i.formatDistance("xMonths",_,a)}else{let _=g%12,S=Math.trunc(g/12);return _<3?i.formatDistance("aboutXYears",S,a):_<9?i.formatDistance("overXYears",S,a):i.formatDistance("almostXYears",S+1,a)}}function Ls(t,e){return Ms(t,Is(t),e)}var nu={default:"MMM d 'at' h:mm a",defaultWithDayOfWeek:"EEEE, MMM d 'at' h:mm a",dateTime:"yyyy-MM-dd HH:mm",dateTitle:"MMM d, yyyy 'at' h:mm a",day:"EEE",month:"MMM",monthDay:"MMM d",monthDayYear:"MMM d, yyyy",dayOfYear:"D",logger:"h:mm:ss.SS"};function ze(t,e,n={}){let{fallback:r,...i}=n;return r&&(t=ou(t)?t:r),e==="display"?ru(t,i):xs(t,nu[e],i)}function ru(t,e){let n=ks(t),r=new Date;if(ns(r,n)<29){let o=iu(n);return o==="just now"?o:`${o} ago`}return n.getFullYear()!==r.getFullYear()?ze(n,"monthDayYear",e):ze(n,"monthDay",e)}function iu(t){let e=Ls(t,{includeSeconds:!0});switch(e){case"less than 5 seconds":case"less than 10 seconds":case"less than 20 seconds":return"just now";case"half a minute":case"less than a minute":return"about a minute";case"1 minute":return"a minute";case"about 1 hour":return"about an hour";case"1 day":return"a day";case"about 1 month":return"about a month";case"about 1 year":case"over 1 year":return"about a year"}return e}function ks(t){return t instanceof Date?t:new Date(typeof t=="string"?t.replace(/ /g,"T"):t)}function ou(t){return!isNaN(Number(ks(t)))}var su="eyJ";function Ws(t=""){return t?.startsWith(su)}function Us(t){return!!(t&&"email"in t&&!ur(t))}function ur(t){return!!(t&&"frillToken"in t)}function Gs(t){return!!(t&&"ssoToken"in t&&Ws(t.ssoToken))}var wu=at(Vs());function ut(t){if(Array.isArray(t))return t.map(ut);if(t&&typeof t=="object"){let e={};for(let[n,r]of Object.entries(t))e[n]=r&&typeof r=="object"?ut(r):r;return e}return t}var W=at($s());var js={popover:{type:"popover",offsetSkidding:0,offsetDistance:20,isFixedPosition:!0,placement:"top-end",width:"410px",height:"600px"},modal:{type:"modal",width:"640px",height:"500px"},sidebar:{type:"sidebar",position:"right",width:"450px"},embed:{type:"embed"}},Su={where:{type:"all",urls:[]},when:{action:"enter",delay:0}},qs={floating:{type:"floating",color:"light",backgroundColor:rt,position:"bottom-right",icon:"bolt"},tab:{type:"tab",color:"light",backgroundColor:rt,position:"center-right",text:"What's new"},selector:{type:"selector",selector:""},null:{type:"null"}};function zs(t){return{sections:{order:["ideas","roadmap","announcements"],announcements:{active:!0,display:"embed",title:{[t]:"Announcements"},reactions:"inherit",disableAnnouncementLinks:!1,subscribeButton:"inherit",layout:"full",ideas:{open:"embed"}},ideas:{active:!0,display:"embed",title:{[t]:"Ideas"},sort:"trending",ideas:{open:"embed"},create:{label:{[t]:""},hideSuggestions:!0}},roadmap:{active:!0,display:"embed",title:{[t]:"Roadmap"},ideas:{open:"embed"}}},launcher:ut(qs.tab),view:ut(js.sidebar),targeting:ut(Su),badge:{type:"count"},advanced:{openLinksInNewWindow:!0,hidePoweredByFrill:!1},appearance:{responsiveMediaQuery:"(min-width: 481px)",showLogo:!0,theme:{idx:""},headerBackgroundColor:"#f9fafb",headerTextColor:"dark",title:{[t]:""},description:{[t]:"Suggest a feature, read through our Roadmap and check out our latest feature releases."}},navigation:{reopenOnStartPage:!1}}}var Eu={arrayMerge:(t,e)=>Array.from(new Set([...e,...t]))};function Xe(t,e,{mergeOptions:n=Eu,language:r}){let{advanced:i={},appearance:o={},badge:s={},launcher:a={},navigation:l={},sections:u={},targeting:d={},view:h={}}=e,m=t||zs(r),g=a?.type||m.launcher.type,_=h?.type||m.view.type,S=(0,W.default)(qs[g],m.launcher),v=(0,W.default)(js[_],m.view);return{advanced:(0,W.default)(m.advanced,i,n),appearance:(0,W.default)(m.appearance,o,n),badge:(0,W.default)(m.badge,s,n),launcher:(0,W.default)(S,a,n),navigation:(0,W.default)(m.navigation,Object.assign({},l),n),sections:(0,W.default)(m.sections,u,n),targeting:(0,W.default)(m.targeting,d,n),view:(0,W.default)(v,h,n)}}function vu(t,e){return typeof t.sections.ideas.title=="string"&&(t.sections.ideas.title={[e]:t.sections.ideas.title}),typeof t.sections.ideas.create.label=="string"&&(t.sections.ideas.create.label={[e]:t.sections.ideas.create.label}),typeof t.sections.roadmap.title=="string"&&(t.sections.roadmap.title={[e]:t.sections.roadmap.title}),typeof t.sections.announcements.title=="string"&&(t.sections.announcements.title={[e]:t.sections.announcements.title}),typeof t.appearance.title=="string"&&(t.appearance.title={[e]:t.appearance.title}),typeof t.appearance.description=="string"&&(t.appearance.description={[e]:t.appearance.description}),t}function pr(t,e){let n=zs(e);return n.sections=(0,W.default)(n.sections,{announcements:{reactions:"inherit",ideas:{open:"link"}}}),n.appearance.description={[e]:""},n.appearance.showLogo=!1,Xe(n,vu(ut(t),e),{language:e})}var Z_=`(function(t,r){function s(){var a=r.getElementsByTagName("script")[0],e=r.createElement("script");e.type="text/javascript",e.async=!0,e.src="${$o}",a.parentNode.insertBefore(e,a)}if(!t.Frill){var o=0,i={};t.Frill=function(e,p){var n,l=o++,c=new Promise(function(v,d){i[l]={params:[e,p],resolve:function(f){n=f,v(f)},reject:d}});return c.destroy=function(){delete i[l],n&&n.destroy()},c},t.Frill.q=i}r.readyState==="complete"||r.readyState==="interactive"?s():r.addEventListener("DOMContentLoaded",s)})(window,document);`;function Xs(t){return`${Xo}:${Ue}:${t}`}var Qe=at(ea());var xu=[w.SIGNUP,w.LOGIN,w.LOGIN_SSO,w.LOGIN_ONE_TIME_CODE,w.FORGOT_PASSWORD,w.RESET_PASSWORD],ib={[w.DASHBOARD_SURVEYS]:"settings-survey",[w.DASHBOARD_SURVEY_EDIT]:"settings-survey-edit",[w.DASHBOARD_WIDGETS]:"settings-widget",[w.DASHBOARD_WIDGET_EDIT]:"settings-widget-edit",[w.SETTINGS]:"settings",[w.SETTINGS_PROFILE]:"settings-profile",[w.SETTINGS_NOTIFICATIONS]:"settings-notifications",[w.SETTINGS_UNSUBSCRIBE]:"settings-unsubscribe",[w.SETTINGS_COMPANY]:"settings-company",[w.SETTINGS_COMPANY_API]:"settings-api",[w.SETTINGS_COMPANY_AUTHENTICATION]:"settings-authentication",[w.SETTINGS_COMPANY_BOARDS]:"settings-boards",[w.SETTINGS_COMPANY_TEAM]:"settings-team",[w.SETTINGS_COMPANY_USERS]:"settings-users",[w.SETTINGS_COMPANY_BILLING]:"settings-billing",[w.SETTINGS_COMPANY_UPGRADE]:"settings-upgrade",[w.SETTINGS_COMPANY_TOPICS]:"settings-topics",[w.SETTINGS_COMPANY_STATUSES]:"settings-statuses",[w.SETTINGS_COMPANY_CATEGORIES]:"settings-categories",[w.SETTINGS_COMPANY_MISCELLANEOUS]:"settings-miscellaneous",[w.SETTINGS_COMPANY_SSO]:"settings-sso",[w.SETTINGS_COMPANY_EMAILS]:"settings-emails",[w.SETTINGS_COMPANY_EMAILS_TEMPLATES]:"settings-emails-templates",[w.SETTINGS_COMPANY_EMAILS_TEMPLATE_EDIT]:"settings-emails-template-edit",[w.SETTINGS_COMPANY_EMAILS_BRANDING]:"settings-emails-branding",[w.SETTINGS_COMPANY_EMAILS_CUSTOM_EMAIL]:"settings-emails-custom-email",[w.SETTINGS_COMPANY_LANGUAGES]:"settings-terminology",[w.SETTINGS_COMPANY_LANGUAGES_GROUP]:"settings-terminology-group",[w.SETTINGS_COMPANY_CUSTOM_DOMAINS]:"settings-custom-domains",[w.SETTINGS_COMPANY_THEME]:"settings-theme",[w.SETTINGS_COMPANY_PRIVACY]:"settings-privacy",[w.SETTINGS_COMPANY_WHITE_LABEL]:"settings-white-label",[w.SETTINGS_COMPANY_WEBHOOKS]:"settings-webhooks",[w.SETTINGS_COMPANY_INTEGRATIONS]:"settings-integrations",[w.SETTINGS_COMPANY_INTEGRATIONS_SLACK]:"settings-integrations-slack",[w.SETTINGS_COMPANY_INTEGRATIONS_TRELLO]:"settings-integrations-trello",[w.SETTINGS_COMPANY_INTEGRATIONS_JIRA]:"settings-integrations-jira",[w.SETTINGS_COMPANY_INTEGRATIONS_PABBLY]:"settings-integrations-pabbly",[w.SETTINGS_COMPANY_INTEGRATIONS_INTEGRATELY]:"settings-integrations-integrately",[w.SETTINGS_COMPANY_INTEGRATIONS_HELPSCOUT]:"settings-integrations-helpscout",[w.SETTINGS_COMPANY_INTEGRATIONS_ZENDESK]:"settings-integrations-zendesk",[w.SETTINGS_COMPANY_INTEGRATIONS_INTERCOM]:"settings-integrations-intercom"},Iu=[...xu,w.TERMS_OF_SERVICE,w.PRIVACY_POLICY,w.SETTINGS_UNSUBSCRIBE],ob=[...Iu,w.SETTINGS_COMPANY_BILLING,w.SETTINGS_COMPANY_UPGRADE,w.SETTINGS_NOTIFICATIONS,w.SETTINGS_PROFILE,w.SETTINGS_UNSUBSCRIBE];function Au(t){return Array.isArray(t)?t.join(","):t?t.toString():""}function Ze(t=""){return(0,Qe.parse)(t.replace("?",""))}function me(t={}){return(0,Qe.stringify)(Object.entries(t).reduce((e,[n,r])=>(typeof r<"u"&&r!==null&&(e[n]=r),e),{}))}function pt(t,e={}){return Object.keys(e).reduce((n,r)=>{let i=Au(e[r]);return n.replace(`[${r}]`,i||"").replace(`[[...${r}]]`,i||"")},t)}function dt(t,e={}){let n=me(e),r=t.includes("?")?"&":"?";return n?`${t}${r}${n}`:t}var he=console,dr={timestamp:"gray",disable:"gray",default:"gray",debug:"gray",log:"inherit",info:"inherit",warn:"#F1B109",error:"#F20404"},Bt={debug:0,log:1,info:2,warn:3,error:4,disable:5};function Ou(){if(!We)return Bt.debug;if(j)return Bt.disable;let{logLevel:t}=Ze(window.location.search.replace("?",""));return Bt[typeof t=="string"?t:"disable"]??Bt.disable}function na(t){return[`color: ${dr.default}; font-weight: lighter;`,`color: ${dr[t]}; font-weight: bold;`,`color: ${dr.timestamp}; font-weight: lighter;`]}function ra(t,e){let n=ze(new Date,"logger");return`%c ${t} %c${e} %c@ ${n}`}function Nu(t=[]){let e,n={};t.forEach((r,i)=>{r&&r.stack&&typeof r.message=="string"?e=r:n[`context-${i}`]=r})}var mr=class{constructor(e,n){this.type=e;this.debug=(...e)=>{this.console("debug",this.type,...e)};this.log=(...e)=>{this.console("log",this.type,...e)};this.info=(...e)=>{this.console("info",this.type,...e)};this.error=(...e)=>{this.console("error",this.type,...e),Nu(e)};this.warn=(...e)=>{this.console("warn",this.type,...e)};this.level=n}set level(e){this._level=Bt[e]??Ou()}console(e,n,...r){if(this._level>Bt[e]||j)return;let[i,...o]=r,s=e==="log"||e==="debug"||e==="info";if(s&&(!o||o.length===0)&&typeof i=="string"){he[e](ra(n,i),...na(e));return}let a=s&&typeof i=="string",l=ra(n,a?i:e);he.groupCollapsed(l,...na(e)),a||he[e](i),typeof o<"u"&&o.length>0&&he[e](...o),he.groupEnd()}};function J(t,e){return new mr(t,e)}var fb=J("common");var mb=J("Frill","log");function Yt(...t){console.warn("%c Frill.co","font-weight: bold;",t.join(`

`),`

Contact support for more help or see our examples: ${Ge.WIDGET_EXAMPLES}`)}function hr(t){return Yt(`Calling ${t} without first calling Frill('container', { key: 'YOUR-KEY-HERE' }) can lead to unexpected results with user identification.`,"If you want to load Widgets and Surveys manually, you should still load your container with autoLoad disabled, e.g. Frill('container', { autoLoad: false, key: 'YOUR-KEY-HERE' })")}var R=class extends Error{constructor(n,r=!0){super(n);this.warn=r;this.isKnown=!0}};function Je(t){return!!(t?.message&&t?.isKnown)}var fa=at(la()),en=class{constructor(e={}){this.options=e;this.observer=null;this.callbacks={};this.i=0;this.emit=(0,fa.default)(()=>{for(let e of Object.values(this.callbacks))e()},this.options.wait??100);this.onMutation=(e,n)=>{for(let r of e)if(r.type==="childList"){let i=Array.from(r.addedNodes).filter(ca),o=Array.from(r.removedNodes).filter(ca);if(i.length||o.length){this.emit();break}}};"MutationObserver"in window&&(this.observer=new MutationObserver(this.onMutation),this.observer.observe(document.body,{childList:!0,subtree:!0}))}on(e){let n=this.i++;this.callbacks[n]=e}destroy(){this.observer&&(this.observer.disconnect(),this.observer=null),this.emit.cancel()}};function ca(t){return t instanceof HTMLElement}var nn=class{constructor(e,n){this.widget=e;this.options=n;this.type="selector";this.classNames={default:"Frill_Trigger_Selector"};this.elements=[];this.attachSelectors=()=>{if(this.elements=this.elements.filter(n=>n.isConnected?!0:(n.removeEventListener("click",this.widget.toggle,!0),n.removeEventListener("mouseenter",this.widget.interaction,!0),!1)),this.elements.length&&!this.options.queryAll)return;let e=this.getElements();for(let n of e)this.elements.includes(n)||(this.elements.push(n),n.addEventListener("click",this.widget.toggle,!0),n.addEventListener("mouseenter",this.widget.interaction,!0),n.classList.add(Rt,this.classNames.default))}}get element(){return this.elements[0]}setup(){let{selector:e}=this.options;if(!e)throw new R('Missing required "CSS Selector".');this.observer=new en({wait:300}),this.observer.on(this.attachSelectors),this.attachSelectors()}getElements(){let{selector:e,queryAll:n}=this.options;if(typeof e=="string"){if(n&&this.widget.settings.view.type!=="popover"){let i=Array.from(document.querySelectorAll(e));return i.length=Math.min(i.length,10),i}let r=document.querySelector(e);return r?[r]:[]}return[e]}addBadge(e){this.elements.forEach((n,r)=>{r>0&&(e=e.cloneNode(),this.widget.badges.push(e)),n.appendChild(e)})}destroy(){this.observer?.destroy(),this.observer=void 0;for(let e of this.elements){for(let n of this.widget.badges)e.contains(n)&&e.removeChild(n);e.removeEventListener("click",this.widget.toggle),e.removeEventListener("mouseenter",this.widget.interaction)}}update(){for(let e of this.elements){let{unreadCount:n}=this.widget.state;n?e.classList.add(X):e.classList.remove(X)}}};var rn=class{constructor(e,n){this.widget=e;this.options=n;this.type="tab";this.classNames={default:"Frill_Trigger_Tab"}}setup(){let{color:e="light",text:n,backgroundColor:r,position:i="center-right"}=this.options;this.element=document.createElement("button"),this.element.type="button",this.element.classList.add(Rt,this.classNames.default,`${this.classNames.default}--${i}`),this.element.style.color=e==="light"?"#fff":"#202020",this.element.style.backgroundColor=r||rt,this.element.innerText=n||"What's new",this.element.setAttribute("aria-label",ot.LAUNCHER_OPEN),this.widget.parent.appendChild(this.element),this.element.addEventListener("click",this.widget.toggle),this.element.addEventListener("mouseenter",this.widget.interaction)}addBadge(e){this.element.appendChild(e)}destroy(){this.element&&(this.element.removeEventListener("click",this.widget.toggle),this.element.removeEventListener("mouseenter",this.widget.interaction),this.element.parentNode?.removeChild(this.element))}update(){if(!this.element)return;let{isOpen:e,unreadCount:n}=this.widget.state;n?this.element.classList.add(X):this.element.classList.remove(X),this.element.setAttribute("aria-label",e?ot.LAUNCHER_CLOSE:ot.LAUNCHER_OPEN)}};var ge=class{constructor(){this.css="";this.type="null"}get element(){return null}setup(){}addBadge(e){}destroy(){}update(){}};function ua(t){let e=t.settings.launcher;if(t.settings.view.type==="embed")return new ge;switch(e.type){case"floating":return new Ke(t,e);case"selector":return new nn(t,e);case"tab":return new rn(t,e);case"null":return new ge;default:throw new R("Invalid launcher option. Available options: `floating`, `selector` and `tray`")}}function on(t){let e=document.createElement("iframe");e.tabIndex=0,e.setAttribute("sandbox","allow-same-origin allow-scripts allow-top-navigation allow-popups allow-forms allow-presentation allow-popups-to-escape-sandbox"),e.setAttribute("aria-hidden","false"),e.style.border="0",e.style.outline="0",e.style.width="100%",e.style.height="100%";for(let[n,r]of Object.entries(t))e[n]=r;return e}function sn(t){let e=document.createElement("strong");return e.className="Frill_Notification__Badge",e.innerText=t.label,e.style.color=t.color,e}function an(t={}){let e=document.createElement("button");e.type="button",e.className="Frill_Notification__Close",e.innerHTML='<svg fill="none" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><g opacity=".5" stroke="#73737d" stroke-linecap="round" stroke-width="2"><path d="m8 1-7 7"/><path d="m8 8-7-7"/></g></svg>';for(let[n,r]of Object.entries(t))e[n]=r;return e}function ln(t,e,n){let r=document.createElement("button");r.type="button",r.innerText=e.button.label||t.company.language?.["announcement-view"]||"View Announcement",r.className="Frill_Notification__Button",r.style.backgroundColor=e.button.backgroundColor||"#1675f0";let i=e.button.backgroundColor?e.button.color:"light";return r.style.color=i==="light"?"#fff":"#000",r.addEventListener("click",o=>{o.stopPropagation(),e.button.action==="widget"&&(t.viewAnnouncement(e.announcementSlug),t.open()),n()}),r}var cn=class{constructor(e,n){this.widget=e;this.options=n;this.type="modal";this.classNames={default:"Frill_Notification_Snippet",loading:"Frill_Notification_Snippet--loading",open:"Frill_Notification_Snippet--open",enter:"Frill_Notification_Snippet--enter",content:"Frill_Notification_Snippet__Content"};this.destroy=()=>{this.widget.notification=void 0,this.element&&(this.element.parentNode?.removeChild(this.element),this.widget.closeNotification())};this.open=()=>{this.element&&(this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout(()=>{this.element?.classList.remove(this.classNames.enter)},30))};this.close=()=>{this.element.classList.remove(this.classNames.open),setTimeout(()=>{this.destroy()},300)}}setup(){let{title:e="",content:n="",theme:r}=this.options,{settings:i,company:o}=this.widget,s=r?.idx||i.appearance.theme.idx||o.theme?.idx||"light";if(this.element=document.createElement("div"),this.element.classList.add(it,this.classNames.default,`${it}--${s}`),this.content=document.createElement("div"),this.content.classList.add(this.classNames.content),this.options.badge){let d=sn(this.options.badge);this.content.appendChild(d)}let a=document.createElement("h2");a.innerText=e,this.content.appendChild(a);let l=document.createElement("p");if(l.innerText=n,this.content.appendChild(l),this.options.button){let d=ln(this.widget,this.options,this.close);this.content.appendChild(d)}let u=an();u.addEventListener("click",this.close),this.content.appendChild(u),this.element.appendChild(this.content),this.widget.parent.appendChild(this.element),this.open()}};var fn=class{constructor(e,n){this.widget=e;this.options=n;this.type="modal";this.classNames={default:"Frill_Notification_Banner",loading:"Frill_Notification_Banner--loading",open:"Frill_Notification_Banner--open",enter:"Frill_Notification_Banner--enter",content:"Frill_Notification_Banner__Content",top:"Frill_Notification_Banner--top",bottom:"Frill_Notification_Banner--bottom"};this.destroy=()=>{this.widget.notification=void 0,this.element&&(this.element.parentNode?.removeChild(this.element),this.widget.closeNotification())};this.open=()=>{this.element&&(this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout(()=>{this.element?.classList.remove(this.classNames.enter)},30))};this.close=()=>{this.element.classList.remove(this.classNames.open),setTimeout(()=>{this.destroy()},300)}}setup(){let{title:e,position:n}=this.options,{settings:r,company:i}=this.widget,o=r.appearance.theme.idx||i.theme?.idx||"light";if(this.element=document.createElement("div"),this.element.classList.add(it,this.classNames.default,this.classNames[n||"top"],`${it}--${o}`),this.content=document.createElement("div"),this.content.classList.add(this.classNames.content),this.options.badge){let l=sn(this.options.badge);this.content.appendChild(l)}let s=document.createElement("h2");if(s.innerText=e,this.content.appendChild(s),this.options.button){let l=ln(this.widget,this.options,this.close);this.content.appendChild(l)}let a=an();a.addEventListener("click",this.close),this.content.appendChild(a),this.element.appendChild(this.content),this.widget.parent.appendChild(this.element),this.open()}};var Kt=new Set,ju=0,un=0,yr=0;function $t(){let t=ju++;function e(){Kt.has(t)||(Kt.size===0&&Xu(),Kt.add(t))}function n(){Kt.has(t)&&(Kt.delete(t),Kt.size===0&&Qu())}return{on:e,off:n}}function qu(){if(typeof un=="number")return un;let t=document.documentElement,e=document.createElement("div");return e.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),t.appendChild(e),un=e.offsetWidth-e.clientWidth,t.removeChild(e),un}function zu(){return document.documentElement.scrollHeight>window.innerHeight}function Xu(){if(typeof document>"u")return;let t=document.documentElement;yr=window.pageYOffset,t.style.width=zu()?`calc(100% - ${qu()}px)`:"100%",t.style.position="fixed",t.style.top=`${-yr}px`,t.style.overflow="hidden"}function Qu(){if(typeof document>"u")return;let t=document.documentElement;t.style.width="",t.style.position="",t.style.top="",t.style.overflow="",window.scroll(0,yr),window.dispatchEvent(new CustomEvent("scroll"))}var pn=class{constructor(e,n,r){this.key=e;this.name=n;this.actions=r;this.i=0;this.promises=new Map;this.logger=J(this.name);this.messenger={send:e=>{parent.postMessage(e,"*")}};this.client=new Proxy({},{get:(e,n)=>(...r)=>this.request({name:n,params:r})});this.destroy=()=>{window.removeEventListener("message",this.handleMessage,!1)};this.handleMessage=e=>{if(!(e?.data?.type!=="FRILL"||e?.data?.sender===this.name||e?.data?.key!==this.key)){if(this.logger.debug("receive",e),"requestId"in e.data){let{requestId:n,payload:r}=e.data;if(this.promises.has(n)){let[i,o]=this.promises.get(n);r&&"__error"in r?o(new Error(r.__error)):i(r)}return}this.run(e.data)}};j||this.create()}create(){this.logger.debug("listen"),window.addEventListener("message",this.handleMessage,!1)}async request(e){return new Promise((n,r)=>{let i=this.send(e);this.promises.set(i.id,[n,r])})}send(e){if(!this.messenger)return;let n={type:"FRILL",key:this.key,sender:this.name,id:this.i++,message:e};return this.messenger.send(n),this.logger.debug("send",n),n}respond(e,n){if(!this.messenger)return;let r={type:"FRILL",key:this.key,sender:this.name,id:this.i++,payload:n,requestId:e.id};return this.messenger.send(r),this.logger.debug("respond",r),r}async run(e){let{name:n,params:r}=e.message;try{if(n in this.actions){let i=await this.actions[n](...r);this.respond(e,i);return}}catch(i){this.respond(e,{__error:i.message});return}this.respond(e,{__error:`Unsupported action ${n.toString()}`})}};var ye=class extends pn{constructor(){super(...arguments);this._isReady=!1;this._queue=[];this.ready=()=>{this._isReady=!0};this.flush=()=>{let n=this._queue.pop();for(;n;)this.messenger.send(n),n=this._queue.pop()};this.messenger={send:n=>{let r="requestId"in n;if(!this._isReady&&!r){this._queue.push(n);return}this._frame?.contentWindow&&this._frame.contentWindow.postMessage(n,"*")}}}set frame(n){this._frame=n}},dn=class extends ye{};function pa(t,e){let{navigation:n,sections:r}=t,i=n.startPage||r.order.find(u=>{let d=r[u];return d.active&&d.display==="embed"}),{ideaSlug:o,announcementSlug:s,section:a}=e,l=a||i;if(o)switch(l){case"roadmap":return pt(Y.ROADMAP_IDEA,{ideaSlug:o});case"create-idea":return pt(Y.VIEW_IDEA,{ideaSlug:o});case"announcements":return pt(Y.ANNOUNCEMENTS_IDEA,{ideaSlug:o});case"ideas":default:return pt(Y.IDEA_IDEA,{ideaSlug:o})}if(s)return pt(Y.VIEW_ANNOUNCEMENT,{announcementSlug:s});switch(l){case"announcements":return Y.ANNOUNCEMENTS;case"ideas":return Y.IDEAS;case"roadmap":return Y.ROADMAP;case"create-idea":return Y.CREATE_IDEA}}function da(t){return pt(Y.VIEW_ANNOUNCEMENT,{announcementSlug:t})}function ma(t){let e=t[se.IDEA],n=t[se.ANNOUNCEMENT],r=t[se.SECTION],i=t[se.OPEN];return{ideaSlug:typeof e=="string"&&e?e:void 0,announcementSlug:typeof n=="string"&&n?n:void 0,section:Zu(r)?r:void 0,open:!!i&&i!=="0"&&i!=="false"}}function Zu(t){return t==="ideas"||t==="roadmap"||t==="announcements"||t==="create-idea"}var mn=class{constructor(e,n){this.widget=e;this.options=n;this.type="modal";this.classNames={default:"Frill_Notification_Modal",loading:"Frill_Notification_Modal--loading",open:"Frill_Notification_Modal--open",enter:"Frill_Notification_Modal--enter",content:"Frill_Notification_Modal__Content",shadow:"Frill_Notification_Modal__Shadow"};this.lock=$t();this.close=()=>{this.element.classList.remove(this.classNames.open),this.shadow.removeEventListener("click",this.onWidowClick),this.lock.off(),setTimeout(()=>{this.destroy(),this.widget.closeNotification()},300)};this.onWidowClick=e=>{e.__frillHandled||this.element&&!this.content.contains(e.target)&&this.close()};this.getConfig=async()=>{let e=this.options.__cache||await this.widget.requestCache();return{href:window.location.href,board:this.widget.board,company:this.widget.company,isMobile:this.widget.state.isMobile,settings:{...this.widget.settings,appearance:{...this.widget.settings.appearance,showCloseButton:this.options.showCloseButton}},storage:this.widget.getStorage(),widget:this.widget.widget,cache:e}};this.onAppReady=()=>{this.ipc.ready(),this.ipc.flush(),this.open()};this.ipc=new dn(this.widget.config.key,"modal",{ready:this.onAppReady,getConfig:this.getConfig,close:this.close,open:()=>{},setStorage:()=>{},onLogin:()=>{},onLogout:()=>{},setNewAnnouncements:()=>{},addNotification:()=>{}})}setup(){let{announcementSlug:e,width:n,height:r}=this.options;this.element=document.createElement("div"),this.element.classList.add(it,this.classNames.default);let{key:i,frillTokens:o,ssoToken:s,user:a}=this.widget.config,l=on({id:`${Ye}_${i}_notification`,src:`${Be}/?${me({key:i,frillToken:o?.frillToken,frillRefreshToken:o?.frillRefreshToken,user:JSON.stringify(a),ssoToken:s,notification:"1",route:da(e)})}`});this.ipc.frame=l,this.content=document.createElement("div"),this.content.classList.add(this.classNames.content),this.content.style.width=n?.replace("%","vw")||"640px",this.content.style.height=r?.replace("%","vh")||"500px",this.content.appendChild(l),this.shadow=document.createElement("div"),this.shadow.classList.add(this.classNames.shadow),this.element.appendChild(this.content),this.element.appendChild(this.shadow),this.widget.parent.appendChild(this.element)}destroy(){this.lock.off(),this.ipc.destroy(),this.widget.notification=void 0,this.element&&this.element.parentNode?.removeChild(this.element)}open(){this.element&&(this.lock.on(),this.shadow.addEventListener("click",this.onWidowClick),this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout(()=>{this.element?.classList.remove(this.classNames.enter)},30))}};function ha(t,e){switch(e.type){case"snippet":return new cn(t,e);case"banner":return new fn(t,e);case"modal":return new mn(t,e);default:throw new R("Invalid launcher option. Available options: `floating`, `selector` and `tray`")}}var hn=class{constructor(e,n){this.widget=e;this.options=n;this.type="embed"}setup(){let{parent:e,frame:n}=this.widget;e.appendChild(n)}destroy(){let{parent:e,frame:n}=this.widget;e.removeChild(n),e.removeAttribute(le)}update(){}};var gn=class{constructor(e,n){this.widget=e;this.options=n;this.type="modal";this.classNames={default:"Frill_View_Modal",loading:"Frill_View_Modal--loading",mobile:"Frill_View_Modal--mobile",open:"Frill_View_Modal--open",enter:"Frill_View_Modal--enter",content:"Frill_View_Modal__Content",shadow:"Frill_View_Modal__Shadow"};this.lock=$t();this.onWidowClick=e=>{e.__frillHandled||this.element&&!this.content.contains(e.target)&&this.widget.close()}}get width(){return this.widget.state.isMobile?"100%":this.options.width?.replace("%","vw")||"640px"}get height(){return this.widget.state.isMobile?"100%":this.options.height?.replace("%","vh")||"500px"}setup(){let{frame:e}=this.widget;this.element=document.createElement("div"),this.element.setAttribute("role","dialog"),this.element.style.display="none",this.element.classList.add(Pt,this.classNames.default),this.content=document.createElement("div"),this.content.classList.add(this.classNames.content),this.content.style.width=this.width,this.content.style.height=this.height,this.content.appendChild(e),this.shadow=document.createElement("div"),this.shadow.classList.add(this.classNames.shadow),this.element.appendChild(this.content),this.element.appendChild(this.shadow),this.widget.parent.appendChild(this.element)}destroy(){this.lock.off(),this.shadow?.removeEventListener("click",this.onWidowClick),this.element?.parentNode?.removeChild(this.element)}update(){if(!this.element)return;this.element.style.display="";let{isOpen:e,isLoading:n,isMobile:r}=this.widget.state;n?this.element.classList.add(this.classNames.loading):this.element.classList.remove(this.classNames.loading),r?this.element.classList.add(this.classNames.mobile):this.element.classList.remove(this.classNames.mobile),this.content.style.width=this.width,this.content.style.height=this.height;let i=this.element.classList.contains(this.classNames.open);e?i||(this.options.preventScroll&&this.lock.on(),this.shadow.addEventListener("click",this.onWidowClick),this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout(()=>{this.element?.classList.remove(this.classNames.enter)},30)):(this.element.classList.remove(this.classNames.open),this.shadow.removeEventListener("click",this.onWidowClick),this.lock.off())}};var ga=Math.min,ya=Math.max;var Ju={left:"right",right:"left",bottom:"top",top:"bottom"},tp={start:"end",end:"start"};function _r(t,e,n){return ya(t,ga(e,n))}function be(t,e){return typeof t=="function"?t(e):t}function st(t){return t.split("-")[0]}function we(t){return t.split("-")[1]}function br(t){return t==="x"?"y":"x"}function wr(t){return t==="y"?"height":"width"}function mt(t){return["top","bottom"].includes(st(t))?"y":"x"}function Sr(t){return br(mt(t))}function _a(t,e,n){n===void 0&&(n=!1);let r=we(t),i=Sr(t),o=wr(i),s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=_e(s)),[s,_e(s)]}function ba(t){let e=_e(t);return[yn(t),e,yn(e)]}function yn(t){return t.replace(/start|end/g,e=>tp[e])}function ep(t,e,n){let r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function wa(t,e,n,r){let i=we(t),o=ep(st(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(yn)))),o}function _e(t){return t.replace(/left|right|bottom|top/g,e=>Ju[e])}function np(t){return{top:0,right:0,bottom:0,left:0,...t}}function Sa(t){return typeof t!="number"?np(t):{top:t,right:t,bottom:t,left:t}}function ht(t){let{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ea(t,e,n){let{reference:r,floating:i}=t,o=mt(e),s=Sr(e),a=wr(s),l=st(e),u=o==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2,g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(we(e)){case"start":g[s]-=m*(n&&u?-1:1);break;case"end":g[s]+=m*(n&&u?-1:1);break}return g}var va=async(t,e,n)=>{let{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e)),u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=Ea(u,r,l),m=r,g={},_=0;for(let S=0;S<a.length;S++){let{name:v,fn:T}=a[S],{x:A,y:c,data:f,reset:p}=await T({x:d,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:u,platform:s,elements:{reference:t,floating:e}});d=A??d,h=c??h,g={...g,[v]:{...g[v],...f}},p&&_<=50&&(_++,typeof p=="object"&&(p.placement&&(m=p.placement),p.rects&&(u=p.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):p.rects),{x:d,y:h}=Ea(u,m,l)),S=-1)}return{x:d,y:h,placement:m,strategy:i,middlewareData:g}};async function Er(t,e){var n;e===void 0&&(e={});let{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=be(e,t),_=Sa(g),v=a[m?h==="floating"?"reference":"floating":h],T=ht(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),A=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,c=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),f=await(o.isElement==null?void 0:o.isElement(c))?await(o.getScale==null?void 0:o.getScale(c))||{x:1,y:1}:{x:1,y:1},p=ht(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:c,strategy:l}):A);return{top:(T.top-p.top+_.top)/f.y,bottom:(p.bottom-T.bottom+_.bottom)/f.y,left:(T.left-p.left+_.left)/f.x,right:(p.right-T.right+_.right)/f.x}}var Ta=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;let{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:S=!0,...v}=be(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};let T=st(i),A=mt(a),c=st(a)===a,f=await(l.isRTL==null?void 0:l.isRTL(u.floating)),p=m||(c||!S?[_e(a)]:ba(a)),y=_!=="none";!m&&y&&p.push(...wa(a,S,_,f));let b=[a,...p],N=await Er(e,v),D=[],C=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&D.push(N[T]),h){let V=_a(i,s,f);D.push(N[V[0]],N[V[1]])}if(C=[...C,{placement:i,overflows:D}],!D.every(V=>V<=0)){var L,B;let V=(((L=o.flip)==null?void 0:L.index)||0)+1,Ur=b[V];if(Ur)return{data:{index:V,overflows:C},reset:{placement:Ur}};let Qt=(B=C.filter(Tt=>Tt.overflows[0]<=0).sort((Tt,et)=>Tt.overflows[1]-et.overflows[1])[0])==null?void 0:B.placement;if(!Qt)switch(g){case"bestFit":{var Xt;let Tt=(Xt=C.filter(et=>{if(y){let nt=mt(et.placement);return nt===A||nt==="y"}return!0}).map(et=>[et.placement,et.overflows.filter(nt=>nt>0).reduce((nt,Al)=>nt+Al,0)]).sort((et,nt)=>et[1]-nt[1])[0])==null?void 0:Xt[0];Tt&&(Qt=Tt);break}case"initialPlacement":Qt=a;break}if(i!==Qt)return{reset:{placement:Qt}}}return{}}}};async function rp(t,e){let{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=st(n),a=we(n),l=mt(n)==="y",u=["left","top"].includes(s)?-1:1,d=o&&l?-1:1,h=be(e,t),{mainAxis:m,crossAxis:g,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof _=="number"&&(g=a==="end"?_*-1:_),l?{x:g*d,y:m*u}:{x:m*u,y:g*d}}var xa=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;let{x:i,y:o,placement:s,middlewareData:a}=e,l=await rp(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Ia=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x:T,y:A}=v;return{x:T,y:A}}},...l}=be(t,e),u={x:n,y:r},d=await Er(e,l),h=mt(st(i)),m=br(h),g=u[m],_=u[h];if(o){let v=m==="y"?"top":"left",T=m==="y"?"bottom":"right",A=g+d[v],c=g-d[T];g=_r(A,g,c)}if(s){let v=h==="y"?"top":"left",T=h==="y"?"bottom":"right",A=_+d[v],c=_-d[T];_=_r(A,_,c)}let S=a.fn({...e,[m]:g,[h]:_});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[m]:o,[h]:s}}}}}};var _n=Math.min,gt=Math.max,Se=Math.round,Ee=Math.floor,K=t=>({x:t,y:t});function bn(){return typeof window<"u"}function yt(t){return Oa(t)?(t.nodeName||"").toLowerCase():"#document"}function k(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $(t){var e;return(e=(Oa(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Oa(t){return bn()?t instanceof Node||t instanceof k(t).Node:!1}function U(t){return bn()?t instanceof Element||t instanceof k(t).Element:!1}function H(t){return bn()?t instanceof HTMLElement||t instanceof k(t).HTMLElement:!1}function Aa(t){return!bn()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof k(t).ShadowRoot}function Vt(t){let{overflow:e,overflowX:n,overflowY:r,display:i}=G(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Na(t){return["table","td","th"].includes(yt(t))}function ve(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wn(t){let e=Sn(),n=U(t)?G(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Da(t){let e=tt(t);for(;H(e)&&!_t(e);){if(wn(e))return e;if(ve(e))return null;e=tt(e)}return null}function Sn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _t(t){return["html","body","#document"].includes(yt(t))}function G(t){return k(t).getComputedStyle(t)}function Te(t){return U(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function tt(t){if(yt(t)==="html")return t;let e=t.assignedSlot||t.parentNode||Aa(t)&&t.host||$(t);return Aa(e)?e.host:e}function Ca(t){let e=tt(t);return _t(e)?t.ownerDocument?t.ownerDocument.body:t.body:H(e)&&Vt(e)?e:Ca(e)}function Ht(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);let i=Ca(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=k(i);if(o){let a=En(s);return e.concat(s,s.visualViewport||[],Vt(i)?i:[],a&&n?Ht(a):[])}return e.concat(i,Ht(i,[],n))}function En(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Fa(t){let e=G(t),n=parseFloat(e.width)||0,r=parseFloat(e.height)||0,i=H(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Se(n)!==o||Se(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Tr(t){return U(t)?t:t.contextElement}function jt(t){let e=Tr(t);if(!H(e))return K(1);let n=e.getBoundingClientRect(),{width:r,height:i,$:o}=Fa(e),s=(o?Se(n.width):n.width)/r,a=(o?Se(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}var ip=K(0);function Ma(t){let e=k(t);return!Sn()||!e.visualViewport?ip:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function op(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==k(t)?!1:e}function bt(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);let i=t.getBoundingClientRect(),o=Tr(t),s=K(1);e&&(r?U(r)&&(s=jt(r)):s=jt(t));let a=op(o,n,r)?Ma(o):K(0),l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,d=i.width/s.x,h=i.height/s.y;if(o){let m=k(o),g=r&&U(r)?k(r):r,_=m,S=En(_);for(;S&&r&&g!==_;){let v=jt(S),T=S.getBoundingClientRect(),A=G(S),c=T.left+(S.clientLeft+parseFloat(A.paddingLeft))*v.x,f=T.top+(S.clientTop+parseFloat(A.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,h*=v.y,l+=c,u+=f,_=k(S),S=En(_)}}return ht({width:d,height:h,x:l,y:u})}function xr(t,e){let n=Te(t).scrollLeft;return e?e.left+n:bt($(t)).left+n}function La(t,e,n){n===void 0&&(n=!1);let r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:xr(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function sp(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t,o=i==="fixed",s=$(r),a=e?ve(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=K(1),d=K(0),h=H(r);if((h||!h&&!o)&&((yt(r)!=="body"||Vt(s))&&(l=Te(r)),H(r))){let g=bt(r);u=jt(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}let m=s&&!h&&!o?La(s,l,!0):K(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-l.scrollTop*u.y+d.y+m.y}}function ap(t){return Array.from(t.getClientRects())}function lp(t){let e=$(t),n=Te(t),r=t.ownerDocument.body,i=gt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=gt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight),s=-n.scrollLeft+xr(t),a=-n.scrollTop;return G(r).direction==="rtl"&&(s+=gt(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function cp(t,e){let n=k(t),r=$(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;let u=Sn();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function fp(t,e){let n=bt(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=H(t)?jt(t):K(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function Ra(t,e,n){let r;if(e==="viewport")r=cp(t,n);else if(e==="document")r=lp($(t));else if(U(e))r=fp(e,n);else{let i=Ma(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ht(r)}function ka(t,e){let n=tt(t);return n===e||!U(n)||_t(n)?!1:G(n).position==="fixed"||ka(n,e)}function up(t,e){let n=e.get(t);if(n)return n;let r=Ht(t,[],!1).filter(a=>U(a)&&yt(a)!=="body"),i=null,o=G(t).position==="fixed",s=o?tt(t):t;for(;U(s)&&!_t(s);){let a=G(s),l=wn(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Vt(s)&&!l&&ka(t,s))?r=r.filter(d=>d!==s):i=a,s=tt(s)}return e.set(t,r),r}function pp(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t,s=[...n==="clippingAncestors"?ve(e)?[]:up(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{let h=Ra(e,d,i);return u.top=gt(h.top,u.top),u.right=_n(h.right,u.right),u.bottom=_n(h.bottom,u.bottom),u.left=gt(h.left,u.left),u},Ra(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function dp(t){let{width:e,height:n}=Fa(t);return{width:e,height:n}}function mp(t,e,n){let r=H(e),i=$(e),o=n==="fixed",s=bt(t,!0,o,e),a={scrollLeft:0,scrollTop:0},l=K(0);if(r||!r&&!o)if((yt(e)!=="body"||Vt(i))&&(a=Te(e)),r){let m=bt(e,!0,o,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=xr(i));let u=i&&!r&&!o?La(i,a):K(0),d=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:s.width,height:s.height}}function vr(t){return G(t).position==="static"}function Pa(t,e){if(!H(t)||G(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $(t)===n&&(n=n.ownerDocument.body),n}function Wa(t,e){let n=k(t);if(ve(t))return n;if(!H(t)){let i=tt(t);for(;i&&!_t(i);){if(U(i)&&!vr(i))return i;i=tt(i)}return n}let r=Pa(t,e);for(;r&&Na(r)&&vr(r);)r=Pa(r,e);return r&&_t(r)&&vr(r)&&!wn(r)?n:r||Da(t)||n}var hp=async function(t){let e=this.getOffsetParent||Wa,n=this.getDimensions,r=await n(t.floating);return{reference:mp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gp(t){return G(t).direction==="rtl"}var yp={convertOffsetParentRelativeRectToViewportRelativeRect:sp,getDocumentElement:$,getClippingRect:pp,getOffsetParent:Wa,getElementRects:hp,getClientRects:ap,getDimensions:dp,getScale:jt,isElement:U,isRTL:gp};function Ua(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _p(t,e){let n=null,r,i=$(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();let u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=u;if(a||e(),!m||!g)return;let _=Ee(h),S=Ee(i.clientWidth-(d+m)),v=Ee(i.clientHeight-(h+g)),T=Ee(d),c={rootMargin:-_+"px "+-S+"px "+-v+"px "+-T+"px",threshold:gt(0,_n(1,l))||1},f=!0;function p(y){let b=y[0].intersectionRatio;if(b!==l){if(!f)return s();b?s(!1,b):r=setTimeout(()=>{s(!1,1e-7)},1e3)}b===1&&!Ua(u,t.getBoundingClientRect())&&s(),f=!1}try{n=new IntersectionObserver(p,{...c,root:i.ownerDocument})}catch{n=new IntersectionObserver(p,c)}n.observe(t)}return s(!0),o}function Ga(t,e,n,r){r===void 0&&(r={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Tr(t),d=i||o?[...u?Ht(u):[],...Ht(e)]:[];d.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});let h=u&&a?_p(u,n):null,m=-1,g=null;s&&(g=new ResizeObserver(T=>{let[A]=T;A&&A.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var c;(c=g)==null||c.observe(e)})),n()}),u&&!l&&g.observe(u),g.observe(e));let _,S=l?bt(t):null;l&&v();function v(){let T=bt(t);S&&!Ua(S,T)&&n(),S=T,_=requestAnimationFrame(v)}return n(),()=>{var T;d.forEach(A=>{i&&A.removeEventListener("scroll",n),o&&A.removeEventListener("resize",n)}),h?.(),(T=g)==null||T.disconnect(),g=null,l&&cancelAnimationFrame(_)}}var Ba=xa;var Ya=Ia,Ka=Ta;var $a=(t,e,n)=>{let r=new Map,i={platform:yp,...n},o={...i.platform,_c:r};return va(t,e,{...i,platform:o})};function Ha(t,e){let{launcher:n}=e.settings;if(n.type==="tab"){let r=t.includes("top"),i=t.includes("bottom");if(r||i)return n.position==="center-left"?["right"]:["left"]}}var vn=class{constructor(e,n){this.widget=e;this.options=n;this.type="popover";this.classNames={default:"Frill_View_Popover",loading:"Frill_View_Popover--loading",open:"Frill_View_Popover--open",enter:"Frill_View_Popover--enter",mobile:"Frill_View_Popover--mobile"};this.onContainerClick=e=>{e.__frillHandled||this.element&&!this.element.contains(e.target)&&this.widget.close()}}setup(){let{frame:e,launcher:n}=this.widget,{offsetSkidding:r=0,offsetDistance:i=0,placement:o="bottom-end",isFixedPosition:s=!1,width:a="340px",height:l="460px"}=this.options,d=n.type!=="selector"||s?"fixed":"absolute";this.element=document.createElement("div"),this.element.classList.add(Pt,this.classNames.default,`Frill_Trigger--${n.type}`),this.element.style.width=a,this.element.style.height=l,this.element.style.display="none";let h=o.includes("top")||o.includes("bottom"),m=n.type==="selector"||n.type==="null",_=`calc(100% - 40px - ${n.type==="floating"?`${60+i}px`:0})`;this.element.style[h?"maxHeight":"maxWidth"]=_,this.element.style.position=d,this.element.appendChild(e),this.widget.parent.appendChild(this.element);let S=n.element;S||(this.reference=document.createElement("div"),this.reference.style.position="fixed",this.reference.style.bottom="20px",this.reference.style.right="20px",this.widget.parent.appendChild(this.reference),S=this.reference);let v=!(m&&s),T=this.widget.parent!==document.body?this.widget.parent:void 0;this.cleanupPopper=Ga(S,this.element,()=>{$a(S,this.element,{placement:o,strategy:d,middleware:[Ba({mainAxis:i,crossAxis:r}),v&&Ka({fallbackPlacements:Ha(o,this.widget)}),Ya({padding:20,boundary:T})]}).then(({x:A,y:c})=>{Object.assign(this.element.style,{left:`${A}px`,top:`${c}px`})})})}destroy(){this.cleanupPopper?.(),this.element?.parentNode?.removeChild(this.element),this.widget.parent.removeEventListener("click",this.onContainerClick),this.reference&&this.reference.parentNode?.removeChild(this.reference)}update(){if(!this.element)return;this.element.style.display="";let{isOpen:e,isLoading:n,isMobile:r}=this.widget.state;n?this.element.classList.add(this.classNames.loading):this.element.classList.remove(this.classNames.loading),r?this.element.classList.add(this.classNames.mobile):this.element.classList.remove(this.classNames.mobile);let i=this.element.classList.contains(this.classNames.open);e?i||(setTimeout(()=>this.widget.parent.addEventListener("click",this.onContainerClick)),this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout(()=>{this.element?.classList.remove(this.classNames.enter)},30)):(this.element.classList.remove(this.classNames.open),this.widget.parent.removeEventListener("click",this.onContainerClick))}};var Tn=class{constructor(e,n){this.widget=e;this.options=n;this.type="sidebar";this.classNames={default:"Frill_View_Sidebar",loading:"Frill_View_Sidebar--loading",mobile:"Frill_View_Sidebar--mobile",open:"Frill_View_Sidebar--open",enter:"Frill_View_Sidebar--enter",content:"Frill_View_Sidebar__Content",shadow:"Frill_View_Sidebar__Shadow"};this.lock=$t();this.onWidowClick=e=>{e.__frillHandled||this.element&&!this.content.contains(e.target)&&this.widget.close()}}get width(){return this.widget.state.isMobile?"100%":this.options.width||"450px"}setup(){let{frame:e}=this.widget,{position:n="right"}=this.options;this.element=document.createElement("div"),this.element.setAttribute("role","dialog"),this.element.style.display="none",this.element.classList.add(Pt,this.classNames.default,`${this.classNames.default}--${n}`),this.content=document.createElement("div"),this.content.classList.add(this.classNames.content),this.content.style.width=this.width,this.content.appendChild(e),this.shadow=document.createElement("div"),this.shadow.classList.add(this.classNames.shadow),this.element.appendChild(this.content),this.element.appendChild(this.shadow),this.widget.parent.appendChild(this.element)}destroy(){this.lock.off(),this.shadow?.removeEventListener("click",this.onWidowClick),this.element?.parentNode?.removeChild(this.element)}update(){if(!this.element)return;this.element.style.display="";let{isOpen:e,isLoading:n,isMobile:r}=this.widget.state;n?this.element.classList.add(this.classNames.loading):this.element.classList.remove(this.classNames.loading),r?this.element.classList.add(this.classNames.mobile):this.element.classList.remove(this.classNames.mobile),this.content.style.width=this.width;let i=this.element.classList.contains(this.classNames.open);e?i||(this.options.preventScroll&&this.lock.on(),this.shadow.addEventListener("click",this.onWidowClick),this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout(()=>{this.element?.classList.remove(this.classNames.enter)},30)):(this.element.classList.remove(this.classNames.open),this.shadow.removeEventListener("click",this.onWidowClick),this.lock.off())}};function Va(t){let e=t.settings.view;switch(e.type){case"popover":return new vn(t,e);case"modal":return new gn(t,e);case"sidebar":return new Tn(t,e);case"embed":return new hn(t,e);default:throw new R("Invalid view option. Available options: `popover`, `modal`, `sidebar` and `embed`")}}var xn=class{constructor(e,n){this.key=e;this.options=n;this.cache={};this.widget=async()=>{try{let{hostname:e}=window.location;return await this.get(dt(Ft.WIDGET_SETTINGS,{host:e}),{authorize:!1})}catch{throw new R("Failed to load widget settings")}};this.survey=async()=>{try{let{hostname:e}=window.location;return await this.get(dt(Ft.SURVEY_SETTINGS,{host:e}),{authorize:!1})}catch(e){throw Je(e)?e:new R("Failed to load survey settings")}};this.container=async()=>{try{let{hostname:e}=window.location;return await this.get(dt(Ft.CONTAINER_SETTINGS,{host:e}),{authorize:!0})}catch{throw new R("Failed to load container (incorrect key)")}};this.identify=async e=>{try{let{hostname:n}=window.location,r={host:n};return ur(e)&&(r.frillToken=e.frillRefreshToken),Gs(e)&&(r.ssoToken=e.ssoToken),Us(e)&&(r.email=e.email,r.name=e.name),await this.get(dt(Ft.IDENTIFY,r),{authorize:!1})}catch{throw new R("Failed to identify")}};this.meta=async e=>this.post(Ft.UPDATE_USER_META,e)}get base(){return Qo}get authHeaders(){if(this.options.frill.identity?.tokens)return{Authorization:`Bearer ${this.options.frill.identity.tokens.frillToken}`,"Frill-Host":this.options.frill.identity.frillHost}}async get(e,{authorize:n=!0}){let r=dt(`${this.base}${sr}${e}`.replace("[key]",this.key),{language:this.options.language}),i=n?this.authHeaders:void 0,o=i?`${r}:${i.Authorization}`:r;if(!this.cache[o]){let s=await fetch(r,{headers:i});if(!s.ok){if(s.status===418){let l=await s.json();throw new R(l.message,!1)}throw new Error("Bad request")}let a=await s.json();if(this.isErrorResponse(a))throw new R(a.message||"Something went wrong");return this.cache[o]=a,a}return this.cache[o]}async post(e,n){let r=dt(`${this.base}${sr}${e}`.replace("[key]",this.key),{language:this.options.language});return(await fetch(r,{body:JSON.stringify(n),method:"POST",headers:this.authHeaders})).json()}isErrorResponse(e){return e&&typeof e=="object"&&e.error===!0}};var xe=class{constructor(){this.i=0;this.channels={};this.logger=J("events");this.log=!1;this.emit=(e,...n)=>{let r=this.channels[e],[i]=n;if(this.log&&this.logger.log("emit",e,i),!!r)for(let o of Array.from(r.values()))try{o(i)}catch(s){console.error(s)}}}on(e,n){let r=this.i++;this.channels[e]||(this.channels[e]=new Map);let i=this.channels[e];return i.set(r,n),()=>{i.delete(r)}}clear(){this.channels={}}};var Sl=at(sl()),El=at(wl());function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var mm={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Mr(t,e){function n(i,o,s){if(!(typeof document>"u")){s=Rn({},e,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in s)s[l]&&(a+="; "+l,s[l]!==!0&&(a+="="+s[l].split(";")[0]));return document.cookie=i+"="+t.write(o,i)+a}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},a=0;a<o.length;a++){var l=o[a].split("="),u=l.slice(1).join("=");try{var d=decodeURIComponent(l[0]);if(s[d]=t.read(u,d),i===d)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",Rn({},o,{expires:-1}))},withAttributes:function(i){return Mr(this.converter,Rn({},this.attributes,i))},withConverter:function(i){return Mr(Rn({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Lr=Mr(mm,{path:"/"});var Pn=class{getItem(e){let n=window.localStorage.getItem(e);return n===null?void 0:n}setItem(e,n){return window.localStorage.setItem(e,n)}},Fn=class{constructor(){this.cache={}}getItem(e){return this.cache[e]}setItem(e,n){this.cache[e]=n}},Mn=class{getItem(e){}setItem(e,n){}},Ln=class{getItem(e){return Lr.get(e)}setItem(e,n){return Lr.set(e,n,{domain:window.location.hostname,expires:60})}};var hm="_storage_",gm=300,ym=j?Mn:Pn,Oe=class{constructor(e=hm,n=new ym){this._key=e;this.provider=n;this.data={};this.logger=J("storage");this.all=()=>this.data;this.get=(e,n=void 0)=>(this.logger.log("get",{path:e,defaultValue:n}),(0,Sl.default)(this.data,e,n));this.set=(e,n,r=!1)=>{if(this.logger.log("set",{path:e,value:n}),(0,El.default)(this.data,e,n,Object),r){this.write();return}this.queue||(this.queue=setTimeout(()=>{this.write()},gm))};this.write=()=>{try{this.provider.setItem(this._key,JSON.stringify(this.data)),this.logger.log("writing",this.data)}catch(e){this.logger.warn("Storage error",e)}this.queue=void 0};this.remove=e=>{this.logger.log("remove",{path:e}),this.set(e,void 0)};this.clear=()=>{try{this.provider.setItem(this._key,"")}catch(e){this.logger.warn("Storage error",e)}};this.init()}set key(e){this._key=e,this.init()}init(){try{let e=this.provider.getItem(this._key);e=e?JSON.parse(e):this.data,e&&(this.data=e)}catch(e){this.logger.warn("Storage error",e),this.clear()}this.data||(this.data={})}};var kn=class{constructor(e,n){this.frill=e;this.config=n;this.destroyed=!1;this.state={isOpen:!1,isLoading:!0};this.version=`${ae}.${Ko}`;this.events=new xe;this.open=()=>{this.state.isOpen||(this.ipc.client.interaction({type:"open"}),this.events.emit("open",void 0))};this.close=()=>{this.state.isOpen&&(this.ipc.client.interaction({type:"close"}),this.events.emit("close",void 0))};this.toggle=e=>{if(e&&(e.__frillHandled=!0),this.state.isOpen){this.close();return}this.open()};this.destroy=()=>{this.destroyed=!0,this.ipc?.destroy(),this.events.emit("destroy",void 0)};this.onLogin=(e,n)=>{if(this.frill.identity?.tokens?.idx===e.idx)return;let r={user:e};this.events.emit("login",r);let i=Object.values(this.frill.containers)[0];i?i.storeUserTokens(n,this):hr("Frill('survey') or Frill('widget')")};this.onLogout=()=>{if(!this.frill.identity)return;this.events.emit("logout",void 0);let e=Object.values(this.frill.containers)[0];e?e.storeUserTokens(null,this):hr("Frill('survey') or Frill('widget')")};if(this.api=new xn(this.config.key,{frill:e,language:this.config.language}),this.store=new Oe(Xs(this.config.key),this.config.disableCookies?new Fn:new Ln),n.callbacks)for(let[r,i]of Object.entries(n.callbacks)){let o=r.replace(/^on([A-Z])/,(s,a)=>a.toLowerCase());this.events.on(o,i)}}get id(){return this.config.id||this.config.key}identify(e){this.ipc.client.identify(e)}unidentify(){this.ipc.client.unidentify()}update(){}};function _m(t){let e=[];return e.length&&Yt("Your Frill Widget configuration is using deprecated options that will eventually be removed. Please update your code to avoid unexpected changes.",e.join(""),`For more help please see ${Ge.WIDGET}`),{config:t,warnings:e}}function vl(t){return!!t.key}function Tl(t){return _m(t)}function kr(t,e){try{let n=window.matchMedia(t),r=()=>{let i=!n.matches;e(i)};return r(),typeof n.addEventListener=="function"?n.addEventListener("change",r):n.addListener(r),()=>{typeof n.removeEventListener=="function"?n.removeEventListener("change",r):n.removeListener(r)}}catch(n){console.error(n)}}var Wn=class extends kn{constructor(n,r,i){super(n,r);this.frill=n;this.config=r;this.targeter=i;this.badges=[];this.state={isMobile:!1,isOpen:!1,isLoading:!0,unreadCount:0};this.open=()=>{this.state.isOpen||!this.frame||(this.ipc.client.interaction({type:"open"}),this.state.isOpen=!0,this.update(),this.frame.focus(),this.events.emit("open",void 0))};this.close=()=>{this.state.isOpen&&(this.ipc.client.interaction({type:"close"}),this.state.isOpen=!1,this.update(),this.state.unreadCount&&this.setBadgeCount(0),this.frame&&document.activeElement===this.frame&&this.frame.blur(),this.events.emit("close",void 0))};this.destroy=()=>{this.destroyed=!0,this.ipc?.destroy(),this.style?.parentNode?.removeChild(this.style),this.notification?.destroy(),this.launcher?.destroy(),this.view?.destroy(),this.mediaQuery?.(),this.frame=void 0,this.launcher=void 0,this.view=void 0,this.style=void 0,delete this.frill.widgets?.[this.id],this.events.emit("destroy",void 0)};this.setBadgeCount=n=>{this.state.unreadCount=n,this.update(),this.events.emit("badgeCount",{announcements:[],count:n})};this.interaction=()=>{this.ipc.client.interaction({type:"hover"})};this.closeNotification=()=>{this.events.emit("notificationClose",void 0)};this.update=()=>{let{unreadCount:n}=this.state;if(this.launcher?.update(),this.view?.update(),this.badges.length){let{badge:r}=this.settings,i=n>0;for(let o of this.badges)o.style.display=i?"":"none",r.type==="count"&&(o.innerText=`${Math.min(n,99)}`)}};this.updateSettings=(n,r=!1)=>{if(!this.settings)return;let i=this.company.default_language;this.settings=r?pr(n,i):Xe(this.settings,n,{language:i}),this.ipc.client.updateSettings(this.settings),this.mediaQuery?.();let{responsiveMediaQuery:o}=this.settings.appearance;o&&(this.mediaQuery=kr(o,this.onResponsiveChange))};this.getConfig=()=>({href:window.location.href,board:this.board,company:this.company,isMobile:this.state.isMobile,settings:this.settings,storage:this.store.all(),widget:this.widget});this.onAppReady=()=>{this.state.isLoading&&(this.state.isLoading=!1,this.update(),this.ipc.ready(),this.ipc.flush(),this.events.emit("ready",this),this.deepLink.open&&this.open())};this.onNewAnnouncements=n=>{let r=n.length;this.state.unreadCount=r,this.update(),this.events.emit("badgeCount",{announcements:n,count:r})};this.addNotification=n=>{this.notification||(this.notification=ha(this,n),this.notification.setup(),this.events.emit("notificationOpen",void 0))};this.onResponsiveChange=n=>{this.state.isMobile=n,this.ipc.client.responsive({isMobile:n}),this.update()};if(!vl(r)){Yt("Your Frill Widget has failed to load. Please check your code snippet is correct.","Reason: Missing widget key");return}this.frill.widgets[this.id]=this;let{config:o}=Tl(r);this.config=o,this.deepLink=ma(Ze(window.location.search)),this.parent=this.config.container||document.body,this.ipc=new ye(r.key,"frame",{open:this.open,close:this.close,setStorage:this.store.set,onLogin:this.onLogin,onLogout:this.onLogout,setNewAnnouncements:this.onNewAnnouncements,ready:this.onAppReady,getConfig:this.getConfig,addNotification:this.addNotification}),this.create().catch(s=>{oe&&console.error(s),Yt("Your Frill Widget has failed to load. Please check your code snippet is correct.",`Reason: ${Je(s)?s.message:"Unexpected error"}
Widget key: ${this.config?.key||"Missing key!"}`)})}async create(){if(this.settings)return;let{key:n,loadStyles:r=!0,frillTokens:i,language:o,ssoToken:s,user:a,settings:l,__widget:u}=this.config,{board:d,company:h,widget:m}=u||await this.api.widget();if(this.destroyed)return;if(!m)throw new R("Widget not found");this.board=d,this.company=h,this.widget={idx:m.idx,source:m.source},this.settings=pr(m.settings,h.default_language),l&&(this.settings=Xe(this.settings,l,{language:h.default_language}));let{badge:g}=this.settings;r&&(this.style=document.createElement("link"),this.style.id=`${zo}_${this.id}`,this.style.rel="stylesheet",this.style.href=Vo,this.parent.prepend(this.style)),this.launcher=ua(this),this.view=Va(this);let _={key:n,route:pa(this.settings,this.deepLink)};this.frill.identity?.tokens&&this.frill.identity.tokens.scope!=="basic"&&(_.frillToken=this.frill.identity.tokens.frillToken,_.frillRefreshToken=this.frill.identity.tokens.frillRefreshToken,_.isAnonymous=this.frill.identity.tokens.email?void 0:"1"),i&&(_.frillToken=i.frillToken,_.frillRefreshToken=i.frillRefreshToken,_.isAnonymous=i.email?void 0:"1"),s&&(_.ssoToken=s),o&&(_.lang=o),a&&(_.user=JSON.stringify(a)),this.config.disableAnalytics&&(_.analytics="0"),this.config.disableCookies&&(_.cookies="0"),this.frame=on({id:`${Ye}_${this.id}`,className:qo,src:`${Be}/?${me(_)}`});let{responsiveMediaQuery:S}=m.settings.appearance;if(S&&(this.mediaQuery=kr(S,this.onResponsiveChange)),this.launcher.setup(),this.view.setup(),g.type!=="none"){let v=document.createElement("div");v.classList.add(or),v.classList.add(`${or}--${g.type}`),v.style.display="none",this.launcher.addBadge(v),this.badges.push(v)}this.ipc.frame=this.frame}createIdea(n){this.ipc.client.createIdea(n)}viewIdea(n,r){this.ipc.client.viewIdea(n,r)}viewAnnouncement(n){this.ipc.client.viewAnnouncement(n)}viewSection(n){this.ipc.client.viewSection(n)}markAsRead(){this.ipc.client.markAsRead(),this.setBadgeCount(0)}getStorage(){return this.store.all()}requestCache(){return this.ipc.client.getCache()}};var bm="Frill_Callbacks",xl="Frill_Config";function Wr(t){if(!t.__loaded)return t.__loaded=!0,new Wn(window.Frill,t)}function wm(){let t=window[bm];if(t?.length)for(let n of t)n();if(xl in window){let n=window[xl],r=Array.isArray(n)?n:[n];for(let i of r)Wr(i)}let e=Array.from(document.querySelectorAll(`[${ir}]`));for(let n of e){let r=n.getAttribute(ir),i=n.getAttribute(le);if(!r||i||!(n instanceof HTMLElement))return;n.setAttribute(le,"true");let o=n.getAttribute(jo);Wr({key:r,container:n,ssoToken:o})}}function Il(){if(window.Frill)return wm();setTimeout(Il,10)}Il();window.Frill={widget:Wr,q:{},containers:{},surveys:{},widgets:{}};})();
/*! Bundled license information:

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/
